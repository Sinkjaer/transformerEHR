{
  "cells": [
    {
      "cell_type": "code",
      "source": [
        "!ls -a"
      ],
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": ".\t\t   .gitignore\t\t   behrtmlmazure.ipynb.amltmp\r\n..\t\t   .ipynb_aml_checkpoints  common\r\n.DS_Store\t   .vscode\t\t   data\r\n.amlignore\t   __pycache__\t\t   dataLoader\r\n.amlignore.amltmp  behrt.yml\t\t   model\r\n.git\t\t   behrtMLMAzure.ipynb\t   task\r\n"
        }
      ],
      "execution_count": 4,
      "metadata": {
        "jupyter": {
          "outputs_hidden": false,
          "source_hidden": false
        },
        "nteract": {
          "transient": {
            "deleting": false
          }
        }
      }
    },
    {
      "cell_type": "code",
      "source": [
        "from azureml.core import Workspace, Experiment, Environment\n",
        "from azureml.core.script_run_config import ScriptRunConfig\n",
        "from azureml.core.conda_dependencies import CondaDependencies\n",
        "import azureml._restclient.snapshots_client\n",
        "\n",
        "# Set the desired snapshot size (in bytes)\n",
        "snapshot_size = 1073741824\n",
        "\n",
        "# Update the maximum snapshot size\n",
        "azureml._restclient.snapshots_client.SNAPSHOT_MAX_SIZE_BYTES = snapshot_size\n",
        "\n",
        "# Retrieve Workspace\n",
        "ws = Workspace.from_config()\n",
        "\n",
        "# Get the Curated Environment\n",
        "curated_env = Environment.get(workspace=ws, name=\"Adocker-image-plus-conda-example\")\n",
        "\n",
        "env = curated_env.clone('clone_env')\n",
        "\n",
        "# Define additional conda and pip packages you want to install\n",
        "conda_dep = CondaDependencies()\n",
        "conda_dep.add_pip_package(\"pytorch-lightning\")  # Add PyTorch Lightning\n",
        "\n",
        "env.python.conda_dependencies = conda_dep\n",
        "\n",
        "# Define the Training Script and Directory\n",
        "script_folder = ''\n",
        "script_name = 'task/executeBehrtMLM.py'  # your training script\n",
        "\n",
        "# Create an Experiment\n",
        "experiment_name = 'My-Experiment'\n",
        "experiment = Experiment(workspace=ws, name=experiment_name)\n",
        "\n",
        "# Configure and Submit the Training Job\n",
        "src = ScriptRunConfig(source_directory=script_folder,\n",
        "                      script=script_name,\n",
        "                      compute_target = 'MikkelGpu',\n",
        "                      environment=curated_env) \n",
        "\n",
        "run = experiment.submit(src)\n",
        "run.wait_for_completion(show_output=True)"
      ],
      "outputs": [
        {
          "output_type": "error",
          "ename": "Exception",
          "evalue": "Error retrieving the environment definition. Code: 404\n: {\n  \"error\": {\n    \"code\": \"UserError\",\n    \"severity\": null,\n    \"message\": \"No environment exists for name: Adocker-image-plus-conda-example, version: , label: \",\n    \"messageFormat\": null,\n    \"messageParameters\": null,\n    \"referenceCode\": null,\n    \"detailsUri\": null,\n    \"target\": null,\n    \"details\": [],\n    \"innerError\": {\n      \"code\": \"NotFoundError\",\n      \"innerError\": null\n    },\n    \"debugInfo\": null,\n    \"additionalInfo\": null\n  },\n  \"correlation\": {\n    \"operation\": \"af487d3476481a2476085b0f5ed9ab56\",\n    \"request\": \"c20a83c9e0067ebc\"\n  },\n  \"environment\": \"westeurope\",\n  \"location\": \"westeurope\",\n  \"time\": \"2023-08-17T05:27:22.6328082+00:00\",\n  \"componentName\": \"environment-management\"\n}",
          "traceback": [
            "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
            "\u001b[0;31mException\u001b[0m                                 Traceback (most recent call last)",
            "Cell \u001b[0;32mIn[1], line 16\u001b[0m\n\u001b[1;32m     13\u001b[0m ws \u001b[38;5;241m=\u001b[39m Workspace\u001b[38;5;241m.\u001b[39mfrom_config()\n\u001b[1;32m     15\u001b[0m \u001b[38;5;66;03m# Get the Curated Environment\u001b[39;00m\n\u001b[0;32m---> 16\u001b[0m curated_env \u001b[38;5;241m=\u001b[39m \u001b[43mEnvironment\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mget\u001b[49m\u001b[43m(\u001b[49m\u001b[43mworkspace\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mws\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mname\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[38;5;124;43mAdocker-image-plus-conda-example\u001b[39;49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[43m)\u001b[49m\n\u001b[1;32m     18\u001b[0m env \u001b[38;5;241m=\u001b[39m curated_env\u001b[38;5;241m.\u001b[39mclone(\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mclone_env\u001b[39m\u001b[38;5;124m'\u001b[39m)\n\u001b[1;32m     20\u001b[0m \u001b[38;5;66;03m# Define additional conda and pip packages you want to install\u001b[39;00m\n",
            "File \u001b[0;32m/anaconda/envs/azureml_py38_PT_TF/lib/python3.8/site-packages/azureml/core/environment.py:1158\u001b[0m, in \u001b[0;36mEnvironment.get\u001b[0;34m(workspace, name, version, label)\u001b[0m\n\u001b[1;32m   1156\u001b[0m     environment_dict \u001b[38;5;241m=\u001b[39m environment_client\u001b[38;5;241m.\u001b[39m_get_environment_definition_by_label(name\u001b[38;5;241m=\u001b[39mname, label\u001b[38;5;241m=\u001b[39mlabel)\n\u001b[1;32m   1157\u001b[0m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[0;32m-> 1158\u001b[0m     environment_dict \u001b[38;5;241m=\u001b[39m \u001b[43menvironment_client\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43m_get_environment_definition\u001b[49m\u001b[43m(\u001b[49m\u001b[43mname\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mname\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mversion\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mversion\u001b[49m\u001b[43m)\u001b[49m\n\u001b[1;32m   1159\u001b[0m env \u001b[38;5;241m=\u001b[39m Environment\u001b[38;5;241m.\u001b[39m_deserialize_and_add_to_object(environment_dict)\n\u001b[1;32m   1161\u001b[0m \u001b[38;5;28;01mreturn\u001b[39;00m env\n",
            "File \u001b[0;32m/anaconda/envs/azureml_py38_PT_TF/lib/python3.8/site-packages/azureml/_restclient/environment_client.py:43\u001b[0m, in \u001b[0;36mEnvironmentClient._get_environment_definition\u001b[0;34m(self, name, version)\u001b[0m\n\u001b[1;32m     40\u001b[0m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[1;32m     41\u001b[0m     message \u001b[38;5;241m=\u001b[39m \u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mError retrieving the environment definition. Code: \u001b[39m\u001b[38;5;132;01m{}\u001b[39;00m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[38;5;124m: \u001b[39m\u001b[38;5;132;01m{}\u001b[39;00m\u001b[38;5;124m\"\u001b[39m\u001b[38;5;241m.\u001b[39mformat(response\u001b[38;5;241m.\u001b[39mstatus_code,\n\u001b[1;32m     42\u001b[0m                                                                                    response\u001b[38;5;241m.\u001b[39mtext)\n\u001b[0;32m---> 43\u001b[0m     \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mException\u001b[39;00m(message)\n",
            "\u001b[0;31mException\u001b[0m: Error retrieving the environment definition. Code: 404\n: {\n  \"error\": {\n    \"code\": \"UserError\",\n    \"severity\": null,\n    \"message\": \"No environment exists for name: Adocker-image-plus-conda-example, version: , label: \",\n    \"messageFormat\": null,\n    \"messageParameters\": null,\n    \"referenceCode\": null,\n    \"detailsUri\": null,\n    \"target\": null,\n    \"details\": [],\n    \"innerError\": {\n      \"code\": \"NotFoundError\",\n      \"innerError\": null\n    },\n    \"debugInfo\": null,\n    \"additionalInfo\": null\n  },\n  \"correlation\": {\n    \"operation\": \"af487d3476481a2476085b0f5ed9ab56\",\n    \"request\": \"c20a83c9e0067ebc\"\n  },\n  \"environment\": \"westeurope\",\n  \"location\": \"westeurope\",\n  \"time\": \"2023-08-17T05:27:22.6328082+00:00\",\n  \"componentName\": \"environment-management\"\n}"
          ]
        }
      ],
      "execution_count": 1,
      "metadata": {
        "gather": {
          "logged": 1692250043514
        },
        "jupyter": {
          "outputs_hidden": false,
          "source_hidden": false
        },
        "nteract": {
          "transient": {
            "deleting": false
          }
        }
      }
    },
    {
      "cell_type": "code",
      "source": [
        "# Make new env\n",
        "from azureml.core import Workspace, Experiment, Environment\n",
        "from azureml.core.script_run_config import ScriptRunConfig\n",
        "from azureml.core.conda_dependencies import CondaDependencies\n",
        "import azureml._restclient.snapshots_client\n",
        "\n",
        "# Set the desired snapshot size (in bytes)\n",
        "snapshot_size = 1073741824\n",
        "\n",
        "# Update the maximum snapshot size\n",
        "azureml._restclient.snapshots_client.SNAPSHOT_MAX_SIZE_BYTES = snapshot_size\n",
        "\n",
        "# Retrieve Workspace\n",
        "ws = Workspace.from_config()\n",
        "\n",
        "conda = CondaDependencies()\n",
        "\n",
        "# add channels\n",
        "conda.add_channel('test_pytorch')\n",
        "\n",
        "# add conda packages\n",
        "conda.add_conda_package('python=3.8')\n",
        "conda.add_conda_package('pytorch')\n",
        "conda.add_conda_package('torchvision')\n",
        "conda.add_conda_package('lightning')\n",
        "conda.add_conda_package('torchtext')\n",
        "\n",
        "# add pip packages\n",
        "conda.add_pip_package('pyyaml')\n",
        "conda.add_pip_package('mpi4py')\n",
        "conda.add_pip_package('deepspeed')\n",
        "\n",
        "# create environment\n",
        "env = Environment('pytorch')\n",
        "env.python.conda_dependencies = conda\n",
        "\n",
        "\n",
        "# Define the Training Script and Directory\n",
        "script_folder = ''\n",
        "script_name = 'task/executeBehrtMLM.py'  # your training script\n",
        "\n",
        "# Create an Experiment\n",
        "experiment_name = 'My-Experiment'\n",
        "experiment = Experiment(workspace=ws, name=experiment_name)\n",
        "\n",
        "# Configure and Submit the Training Job\n",
        "src = ScriptRunConfig(source_directory=script_folder,\n",
        "                      script=script_name,\n",
        "                      compute_target = 'MikkelsGPU',\n",
        "                      environment=env) \n",
        "\n",
        "run = experiment.submit(src)\n",
        "run.wait_for_completion(show_output=True)"
      ],
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": "Submitting /mnt/batch/tasks/shared/LS_root/mounts/clusters/mikkelsgpu/code/Users/mikkel.sinkjaer/transformerEHR directory for run. The size of the directory >= 25 MB, so it can take a few minutes.\n"
        },
        {
          "output_type": "stream",
          "name": "stdout",
          "text": "RunId: My-Experiment_1692020249_3611d971\nWeb View: https://ml.azure.com/runs/My-Experiment_1692020249_3611d971?wsid=/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourcegroups/forskerpl-p2ss0q-rg/workspaces/forskerpl-p2ss0q-mlw&tid=421c9c18-32c7-4250-84e0-c1626f963b1f\n\nStreaming azureml-logs/20_image_build_log.txt\n=============================================\n\n======Starting Image Build on Compute======\nThe run ID for the image build on compute is imgbldrun_c442d5b\n\nsystem_logs/hosttools_capability/hosttools-capability.log : \n----\n2023-08-14T13:43:53.910594Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d ci_number=20230804.1 ci_name=CommonRuntime-prod-build build_time=2023-08-04 10:34:55.296866\n2023-08-14T13:43:53.910671Z  INFO hosttools-capability::do_main: hosttools_capability::resource_limit: Current limit for number of open file: soft=262144, hard=262144 soft_limit=262144 hard_limit=262144\n2023-08-14T13:43:53.910783Z  INFO hosttools-capability::do_main: cr_core: Successfully configured current process to ignore termination signals\n2023-08-14T13:43:53.910812Z  INFO hosttools-capability::do_main: hosttools_capability: Hosttools cap config ht_cap_config={\"dirs\":[{\"relative_path\":\"user_logs\",\"environment_name\":\"AZUREML_CR_HT_CAP_user_logs_PATH\",\"streamable\":true},{\"relative_path\":\"azureml-logs\",\"environment_name\":\"AZUREML_CR_HT_CAP_azureml_logs_PATH\",\"streamable\":true},{\"relative_path\":\"outputs\",\"environment_name\":\"AZUREML_CR_HT_CAP_outputs_PATH\",\"streamable\":false},{\"relative_path\":\"logs\",\"environment_name\":\"AZUREML_CR_HT_CAP_logs_PATH\",\"streamable\":true}],\"metrics\":{\"enabled\":false,\"polling_interval_sec\":30,\"send_to_history_interval_sec\":60},\"use_block_blob_in_blob_streamer\":true,\"log_filtering_policy\":null}\n2023-08-14T13:43:53.910918Z  INFO hosttools-capability::do_main:hosttools-capability.parse_config: cr_core::config_parser: Failed to get distributed config from env exception=GetEnvVarFailed(\"AZUREML_CR_DISTRIBUTED_CONFIG\")\n2023-08-14T13:43:53.911099Z  INFO hosttools-capability::do_main:hosttools-capability.parse_config: hosttools_capability::config_parser: appinsights instrumentation key is set in telemetry config\n2023-08-14T13:43:53.911186Z  INFO hosttools-capability::do_main:hosttools-capability.parse_config:hosttools-capability.add_cert_env_vars_from_file{path=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/cert_info.txt\"}: hosttools_capability::config_parser: Cert envs from cert_file was successful\n2023-08-14T13:43:53.911218Z  INFO hosttools-capability::do_main:hosttools-capability.parse_config:hosttools-capability.add_cert_env_vars_from_file{path=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/cert_info.txt\"}: hosttools_capability::config_parser: close time.busy=71.2µs time.idle=19.3µs\n2023-08-14T13:43:53.911239Z  INFO hosttools-capability::do_main:hosttools-capability.parse_config: hosttools_capability::config_parser: close time.busy=396µs time.idle=6.30µs\n2023-08-14T13:43:53.913553Z  INFO hosttools-capability::do_main:hosttools-capability.start_hosttools{task=\"outputManager\" fatal_health_error_sender=Some(Sender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x55d3693d60e0, tail_position: 0 }, semaphore: Semaphore { semaphore: Semaphore { permits: 1 }, bound: 1 }, rx_waker: AtomicWaker, tx_count: 1, rx_fields: \"...\" } } })}: hosttools_capability::hosttools: child spawned child=Child { child: Child(ChildDropGuard { inner: Child { pid: 9 }, kill_on_drop: false }), stdin: None, stdout: Some(ChildStdout { inner: PollEvented { io: Some(Pipe { fd: File { fd: 10, path: \"pipe:[44058]\", read: true, write: false } }) } }), stderr: Some(ChildStderr { inner: PollEvented { io: Some(Pipe { fd: File { fd: 12, path: \"pipe:[44059]\", read: true, write: false } }) } }) }\n2023-08-14T13:43:53.913671Z  INFO hosttools-capability::do_main:hosttools-capability.start_hosttools{task=\"outputManager\" fatal_health_error_sender=Some(Sender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x55d3693d60e0, tail_position: 0 }, semaphore: Semaphore { semaphore: Semaphore { permits: 1 }, bound: 1 }, rx_waker: AtomicWaker, tx_count: 1, rx_fields: \"...\" } } })}: hosttools_capability::hosttools: close time.busy=2.24ms time.idle=9.10µs\n2023-08-14T13:43:53.933846Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Error opening env file:  open LS_root/jobs/config/.dynamic_config: no such file or directory command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Error opening env file:  open LS_root/jobs/config/.dynamic_config: no such file or directory\"\n2023-08-14T13:43:53.934506Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Scrubber is not initialize, System Log will be disabled command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Scrubber is not initialize, System Log will be disabled\"\n2023-08-14T13:43:53.934544Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Starting App Insight Logger for task:  outputManager command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Starting App Insight Logger for task:  outputManager\"\n2023-08-14T13:43:53.934604Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Version:  Branch:  Commit:  command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Version:  Branch:  Commit: \"\n2023-08-14T13:43:53.934622Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Is launched from common runtime?: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Is launched from common runtime?: true\"\n2023-08-14T13:43:53.934635Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Soft rlimit is 262144 command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Soft rlimit is 262144\"\n2023-08-14T13:43:53.934648Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Setting soft rlimit to 1048576 command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Setting soft rlimit to 1048576\"\n2023-08-14T13:43:53.934660Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 rlimit is now {262144 262144} command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 rlimit is now {262144 262144}\"\n2023-08-14T13:43:53.934672Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 AZUREML_CR_HT_OUTPUT_DIRECTORIES: [{\"Id\":\"user_logs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs\",\"Streamable\":true},{\"Id\":\"azureml-logs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs\",\"Streamable\":true},{\"Id\":\"outputs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs\",\"Streamable\":false},{\"Id\":\"logs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs\",\"Streamable\":true},{\"Id\":\"lifecycler\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"metrics_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"snapshot_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"hosttools_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"cs_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log\",\"Streamable\":true}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 AZUREML_CR_HT_OUTPUT_DIRECTORIES: [{\\\"Id\\\":\\\"user_logs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"azureml-logs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"outputs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs\\\",\\\"Streamable\\\":false},{\\\"Id\\\":\\\"logs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"lifecycler\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"metrics_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"snapshot_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"hosttools_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"cs_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true}]\"\n2023-08-14T13:43:53.934732Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 AZUREML_CR_HT_OUTPUT_DIRECTORIES: [{\"Id\":\"user_logs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs\",\"Streamable\":true},{\"Id\":\"azureml-logs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs\",\"Streamable\":true},{\"Id\":\"outputs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs\",\"Streamable\":false},{\"Id\":\"logs\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs\",\"Streamable\":true},{\"Id\":\"lifecycler\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"metrics_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"snapshot_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"hosttools_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log\",\"Streamable\":true},{\"Id\":\"cs_capability\",\"Path\":\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log\",\"Streamable\":true}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 AZUREML_CR_HT_OUTPUT_DIRECTORIES: [{\\\"Id\\\":\\\"user_logs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"azureml-logs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"outputs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs\\\",\\\"Streamable\\\":false},{\\\"Id\\\":\\\"logs\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"lifecycler\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"metrics_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"snapshot_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"hosttools_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true},{\\\"Id\\\":\\\"cs_capability\\\",\\\"Path\\\":\\\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log\\\",\\\"Streamable\\\":true}]\"\n2023-08-14T13:43:53.934792Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 AZUREML_CR_HT_LOG_FILTERING_POLICY:  command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 AZUREML_CR_HT_LOG_FILTERING_POLICY: \"\n2023-08-14T13:43:53.934810Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 AZUREML_CR_HT_LOG_FILTERING_POLICY:  command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 AZUREML_CR_HT_LOG_FILTERING_POLICY: \"\n2023-08-14T13:43:53.934823Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Failed to Parse Bool on commons.IsDedicatedCompute command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Failed to Parse Bool on commons.IsDedicatedCompute\"\n2023-08-14T13:43:53.934837Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Skip watching job temp full log cache dir as current output manager is launched by common runtime command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Skip watching job temp full log cache dir as current output manager is launched by common runtime\"\n2023-08-14T13:43:53.935266Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs, streamable: true\"\n2023-08-14T13:43:53.935297Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs\"\n2023-08-14T13:43:53.945872Z  INFO hosttools-capability::do_main:hosttools-capability.patch_azsecpack_resource_files_on_host: hosttools_capability::patch_azsecpack: close time.busy=32.2ms time.idle=5.60µs\n2023-08-14T13:43:53.946180Z  INFO hosttools-capability::do_main: hosttools_capability: Starting gRPC server at server_addr=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\n2023-08-14T13:43:53.946252Z  INFO hosttools-capability::do_main: hosttools_capability::service: serving capability service at address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\n2023-08-14T13:43:53.946426Z  INFO hosttools-capability::do_main:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }\n2023-08-14T13:43:53.954607Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs, streamable: true\"\n2023-08-14T13:43:53.954989Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs\"\n2023-08-14T13:43:53.955160Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs, streamable: false command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs, streamable: false\"\n2023-08-14T13:43:53.955237Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs\"\n2023-08-14T13:43:53.955366Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs, streamable: true\"\n2023-08-14T13:43:53.955443Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs\"\n2023-08-14T13:43:53.955558Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log, streamable: true\"\n2023-08-14T13:43:53.955746Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log\"\n2023-08-14T13:43:53.955836Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/lifecycler.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/lifecycler.log\"\n2023-08-14T13:43:53.955947Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Requesting POST: [{system_logs/lifecycler/lifecycler.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Requesting POST: [{system_logs/lifecycler/lifecycler.log}]\"\n2023-08-14T13:43:53.956066Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:43:53.960445Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory LS_root/jobs/wd/.tmp, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory LS_root/jobs/wd/.tmp, streamable: true\"\n2023-08-14T13:43:53.960581Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory LS_root/jobs/wd/.tmp command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory LS_root/jobs/wd/.tmp\"\n2023-08-14T13:43:53.960694Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 file LS_root/jobs/wd/.tmp does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 file LS_root/jobs/wd/.tmp does not exist\"\n2023-08-14T13:43:53.960796Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log, streamable: true\"\n2023-08-14T13:43:53.960896Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log\"\n2023-08-14T13:43:53.961025Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log does not exist\"\n2023-08-14T13:43:53.961122Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log, streamable: true\"\n2023-08-14T13:43:53.961221Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log\"\n2023-08-14T13:43:53.961583Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log/snapshot-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log/snapshot-capability.log\"\n2023-08-14T13:43:53.961737Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Requesting POST: [{system_logs/snapshot_capability/snapshot-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Requesting POST: [{system_logs/snapshot_capability/snapshot-capability.log}]\"\n2023-08-14T13:43:53.966465Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log, streamable: true\"\n2023-08-14T13:43:53.966570Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log, streamable: true command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 start watching directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log, streamable: true\"\n2023-08-14T13:43:53.966698Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Skipping disk check due to err: Ephemeral Disk path not set by Batch. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Skipping disk check due to err: Ephemeral Disk path not set by Batch.\"\n2023-08-14T13:43:53.968955Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Was not able to read from token file:  open LS_root/jobs/config/.amlcompute.amltoken: no such file or directory command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Was not able to read from token file:  open LS_root/jobs/config/.amlcompute.amltoken: no such file or directory\"\n2023-08-14T13:43:53.969112Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log\"\n2023-08-14T13:43:53.969476Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log/hosttools-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log/hosttools-capability.log\"\n2023-08-14T13:43:53.969615Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Requesting POST: [{system_logs/hosttools_capability/hosttools-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Requesting POST: [{system_logs/hosttools_capability/hosttools-capability.log}]\"\n2023-08-14T13:43:53.969731Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:43:53.973905Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Initial token expires at  1970-01-01 00:00:00 +0000 UTC command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Initial token expires at  1970-01-01 00:00:00 +0000 UTC\"\n2023-08-14T13:43:53.973949Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Refreshing Token from history server command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Refreshing Token from history server\"\n2023-08-14T13:43:53.973971Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/history/v1.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/experiments/prepare_image/runs/imgbldrun_c442d5b/token command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/history/v1.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/experiments/prepare_image/runs/imgbldrun_c442d5b/token\"\n2023-08-14T13:43:53.980349Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 We have to refresh the dir one more time before we stop the watch Directory /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log\"\n2023-08-14T13:43:53.985072Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log does not exist\"\n2023-08-14T13:43:53.985201Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:43:54.378623Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:54 New token expires at  2023-08-15 13:43:54.3689229 +0000 UTC command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:54 New token expires at  2023-08-15 13:43:54.3689229 +0000 UTC\"\n2023-08-14T13:43:54.519474Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:54 Succesfully POST artifacts: [{system_logs/hosttools_capability/hosttools-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:54 Succesfully POST artifacts: [{system_logs/hosttools_capability/hosttools-capability.log}]\"\n2023-08-14T13:43:54.548981Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:54 Succesfully POST artifacts: [{system_logs/snapshot_capability/snapshot-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:54 Succesfully POST artifacts: [{system_logs/snapshot_capability/snapshot-capability.log}]\"\n2023-08-14T13:43:55.163520Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:55 Succesfully POST artifacts: [{system_logs/lifecycler/lifecycler.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:55 Succesfully POST artifacts: [{system_logs/lifecycler/lifecycler.log}]\"\n2023-08-14T13:43:58.934284Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:43:58 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 10; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:43:58 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 10; FilteredData: 0.\"\n\nsystem_logs/lifecycler/lifecycler.log : \n----\n2023-08-14T13:43:51.643481Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d ci_number=20230804.1 ci_name=CommonRuntime-prod-build build_time=2023-08-04 10:35:34.424572\n2023-08-14T13:43:51.643958Z  INFO load_config_from_env: lifecycler::config: Resolved grpc addresses lifecycler_address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0 executor_address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\n2023-08-14T13:43:51.644417Z  INFO load_config_from_env:load_capability_addresses_from_env{capability_endpoints_from_config={\"CS_CAPABILITY\": CapabilityEndpoint { name: \"CS_CAPABILITY\", address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0\", type: Service }, \"HOSTTOOLS_CAPABILITY\": CapabilityEndpoint { name: \"HOSTTOOLS_CAPABILITY\", address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\", type: Service }, \"METRICS_CAPABILITY\": CapabilityEndpoint { name: \"METRICS_CAPABILITY\", address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\", type: Service }, \"SNAPSHOT_CAPABILITY\": CapabilityEndpoint { name: \"SNAPSHOT_CAPABILITY\", address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\", type: Service }}}: lifecycler::config: close time.busy=197µs time.idle=147µs\n2023-08-14T13:43:51.644494Z  INFO load_config_from_env: lifecycler::config: close time.busy=718µs time.idle=16.8µs\n2023-08-14T13:43:51.644752Z  INFO run_lifecycler:run_service_and_step_through_lifecycle: lifecycler::lifecycle: distributed config is not specified, skip setting up distributed barrier\n2023-08-14T13:43:51.644941Z  INFO Lifecycler::run_service{distributed_state_sender=None}: lifecycler::service: serving lifecycle service address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\n2023-08-14T13:43:51.645108Z  INFO Lifecycler::run_service{distributed_state_sender=None}:serve_more: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }\n2023-08-14T13:43:51.645267Z  INFO run_lifecycler:run_service_and_step_through_lifecycle: lifecycler::lifecycle: Trying to configure lifecycler to ignore termination signals\n2023-08-14T13:43:51.645350Z  INFO run_lifecycler:run_service_and_step_through_lifecycle: cr_core: Successfully configured current process to ignore termination signals\n2023-08-14T13:43:51.645565Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n\nsystem_logs/snapshot_capability/snapshot-capability.log : \n----\n2023-08-14T13:43:53.223608Z  INFO telemetry: job_telemetry_init artifact_type= branch= ci_number= ci_name= build_time=\n2023-08-14T13:43:53.223812Z  INFO snapshot-capability::do_main:snapshot-capability.parse_config: snapshot_capability::config_parser: Initialized config for snapshot download\n2023-08-14T13:43:53.223851Z  INFO snapshot-capability::do_main:snapshot-capability.parse_config: snapshot_capability::config_parser: close time.busy=95.8µs time.idle=7.70µs\n2023-08-14T13:43:53.224236Z  INFO snapshot-capability::do_main: snapshot_capability: snapshot-capability starting service at server_address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\n2023-08-14T13:43:53.224327Z  INFO snapshot-capability::do_main:snapshot-capability::run_service{address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\" snapshot_cap_config=Ok(SnapshotCapConfig { azureml_context: AzureMLContext { subscription_id: \"f8c5aac3-29fc-4387-858a-1f61722fb57a\", resource_group: \"forskerpl-p2ss0q-rg\", workspace_name: \"forskerpl-p2ss0q-mlw\", workspace_id: \"cd7411a6-1444-4dc7-ad9f-0eed2fcbd115\", service_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\", service_cert_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.cert.westeurope.api.azureml.ms\", discovery_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/discovery/workspaces/cd7411a6-1444-4dc7-ad9f-0eed2fcbd115\", experiment_name: \"prepare_image\", experiment_id: \"a9ecdece-e034-46d6-9279-87e6afbcc46a\", run_id: \"imgbldrun_c442d5b\", root_run_id: \"imgbldrun_c442d5b\", run_token-length: 1213, run_history_service_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\", data_container_id: \"dcid.imgbldrun_c442d5b\", run_uuid: \"25207ba8-cbab-4f84-9a7d-e613012042cb\" }, snapshots: Some([Snapshot { snapshot_asset_id: None, id: Some(\"7e57d00e-5339-4563-8245-db3e9392a568\"), path_stack: Some([\".\"]) }]), user_wd: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\"), check_hash: Some(false), enforce_hash_date: Some(2023-01-01) })}: snapshot_capability::service: snapshot capability serving at address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\n2023-08-14T13:43:53.224478Z  INFO snapshot-capability::do_main:snapshot-capability::run_service{address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\" snapshot_cap_config=Ok(SnapshotCapConfig { azureml_context: AzureMLContext { subscription_id: \"f8c5aac3-29fc-4387-858a-1f61722fb57a\", resource_group: \"forskerpl-p2ss0q-rg\", workspace_name: \"forskerpl-p2ss0q-mlw\", workspace_id: \"cd7411a6-1444-4dc7-ad9f-0eed2fcbd115\", service_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\", service_cert_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.cert.westeurope.api.azureml.ms\", discovery_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/discovery/workspaces/cd7411a6-1444-4dc7-ad9f-0eed2fcbd115\", experiment_name: \"prepare_image\", experiment_id: \"a9ecdece-e034-46d6-9279-87e6afbcc46a\", run_id: \"imgbldrun_c442d5b\", root_run_id: \"imgbldrun_c442d5b\", run_token-length: 1213, run_history_service_endpoint: \"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\", data_container_id: \"dcid.imgbldrun_c442d5b\", run_uuid: \"25207ba8-cbab-4f84-9a7d-e613012042cb\" }, snapshots: Some([Snapshot { snapshot_asset_id: None, id: Some(\"7e57d00e-5339-4563-8245-db3e9392a568\"), path_stack: Some([\".\"]) }]), user_wd: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\"), check_hash: Some(false), enforce_hash_date: Some(2023-01-01) })}:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }\n\nuser_logs/std_log.txt : \n----\nget ws context from the run\nget environment to build\nEnvironment(Name: pytorch,\nVersion: Autosave_2023-08-14T13:38:01Z_907c2612)\nbuild and push\nSaving setup content into  /tmp/tmpsue_5f1e\n\nMaterialized image not found on target: azureml/azureml_1d57f53499dcb97435ff43cc9539c11b\nRunning: ['docker', 'build', '-f', 'azureml-environment-setup/Dockerfile', '-t', 'azureml/azureml_1d57f53499dcb97435ff43cc9539c11b', '.']\nSending build context to Docker daemon  121.9kB\nStep 1/17 : FROM mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20230509.v1@sha256:21a5aff01e75574d94cd25802026a9ac5be1936dc2afe2973537f2c47abd4bc5\nmcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20230509.v1@sha256:21a5aff01e75574d94cd25802026a9ac5be1936dc2afe2973537f2c47abd4bc5: Pulling from azureml/openmpi4.1.0-ubuntu20.04\n99803d4b97f3: Pulling fs layer\n70360b991f81: Pulling fs layer\nbe3bbb711686: Pulling fs layer\na4af251bcb46: Pulling fs layer\n38baff24aff5: Pulling fs layer\n050145919e6a: Pulling fs layer\n6b155a65e6c0: Pulling fs layer\n7e0748d6ff6c: Pulling fs layer\n430355abe702: Pulling fs layer\n06e63bb8b14a: Pulling fs layer\n050145919e6a: Waiting\n6b155a65e6c0: Waiting\n7e0748d6ff6c: Waiting\n430355abe702: Waiting\n06e63bb8b14a: Waiting\na4af251bcb46: Waiting\n38baff24aff5: Waiting\nbe3bbb711686: Verifying Checksum\nbe3bbb711686: Download complete\n99803d4b97f3: Verifying Checksum\n99803d4b97f3: Download complete\n38baff24aff5: Verifying Checksum\n38baff24aff5: Download complete\na4af251bcb46: Verifying Checksum\na4af251bcb46: Download complete\n6b155a65e6c0: Verifying Checksum\n6b155a65e6c0: Download complete\n7e0748d6ff6c: Verifying Checksum\n7e0748d6ff6c: Download complete\n430355abe702: Verifying Checksum\n430355abe702: Download complete\n050145919e6a: Verifying Checksum\n050145919e6a: Download complete\n06e63bb8b14a: Verifying Checksum\n06e63bb8b14a: Download complete\n70360b991f81: Verifying Checksum\n70360b991f81: Download complete\n99803d4b97f3: Pull complete\n70360b991f81: Pull complete\nbe3bbb711686: Pull complete\na4af251bcb46: Pull complete\n38baff24aff5: Pull complete\n050145919e6a: Pull complete\n6b155a65e6c0: Pull complete\n7e0748d6ff6c: Pull complete\n430355abe702: Pull complete\n06e63bb8b14a: Pull complete\nDigest: sha256:21a5aff01e75574d94cd25802026a9ac5be1936dc2afe2973537f2c47abd4bc5\nStatus: Downloaded newer image for mcr.microsoft.com/azureml/openmpi4.1.0-ubuntu20.04:20230509.v1@sha256:21a5aff01e75574d94cd25802026a9ac5be1936dc2afe2973537f2c47abd4bc5\n ---> cc73fcec3204\nStep 2/17 : USER root\n ---> Running in c876e3b5cdc9\nRemoving intermediate container c876e3b5cdc9\n ---> 3eddeac41ece\nStep 3/17 : RUN mkdir -p $HOME/.cache\n ---> Running in 9486d35eb8f0\nRemoving intermediate container 9486d35eb8f0\n ---> eb6a09352d71\nStep 4/17 : WORKDIR /\n ---> Running in cfe28edb2344\nRemoving intermediate container cfe28edb2344\n ---> 64dba329d9d9\nStep 5/17 : COPY azureml-environment-setup/99brokenproxy /etc/apt/apt.conf.d/\n ---> c755cb50b3af\nStep 6/17 : RUN if dpkg --compare-versions `conda --version | grep -oE '[^ ]+$'` lt 4.4.11; then conda install conda==4.4.11; fi\n ---> Running in 896ccc0230d7\nRemoving intermediate container 896ccc0230d7\n ---> 319cfd470520\nStep 7/17 : COPY azureml-environment-setup/mutated_conda_dependencies.yml azureml-environment-setup/mutated_conda_dependencies.yml\n ---> 80a4685edc8b\nStep 8/17 : RUN ldconfig /usr/local/cuda/lib64/stubs && conda env create -p /azureml-envs/azureml_5a626fc820e0fe82b07cb003b2a1eb5d -f azureml-environment-setup/mutated_conda_dependencies.yml && rm -rf \"$HOME/.cache/pip\" && conda clean -aqy && CONDA_ROOT_DIR=$(conda info --root) && rm -rf \"$CONDA_ROOT_DIR/pkgs\" && find \"$CONDA_ROOT_DIR\" -type d -name __pycache__ -exec rm -rf {} + && ldconfig\n ---> Running in a8f46d0785f4\n\nsystem_logs/cs_capability/cs-capability.log : \n----\nINFO 2023-08-14 13:44:09,944 initializer.py:59 [1] - job_telemetry_init {'artifact_type': 'installed', 'ci_number': '20230804.1', 'ci_name': 'CommonRuntime-prod-build', 'build_time': '2023-08-04 10:33:16.362292', 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'custom_dimensions': {'artifact_type': 'installed', 'ci_number': '20230804.1', 'ci_name': 'CommonRuntime-prod-build', 'build_time': '2023-08-04 10:33:16.362292', 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux'}}\nINFO 2023-08-14 13:44:09,944 tracer.py:32 [1] - Setting up tracer {'component_name': 'cs-capability', 'telemetry_config': '{\"collector\": {\"receiver\": null, \"exporter\": {\"appinsights\": {\"instrumentation_key\": \"fca5a4c9-adb4-44ae-bece-69e2cc91ff66\", \"endpoint_suffix\": \"services.visualstudio.com\", \"ingestion_endpoint\": null, \"aad_audience\": null}, \"jaeger\": null, \"prometheus\": null, \"timeout_millis\": null, \"level\": null}}, \"logger\": {\"console\": null, \"appinsights\": {\"instrumentation_key\": \"fca5a4c9-adb4-44ae-bece-69e2cc91ff66\", \"level\": \"info\", \"enabled\": true, \"endpoint_suffix\": \"services.visualstudio.com\", \"ingestion_endpoint\": null, \"aad_audience\": null}, \"file\": {\"extension\": \"log\", \"level\": \"info\", \"enabled\": true}}, \"node_rank\": null, \"node_id\": \"tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p\", \"disable_sensitive_scrub\": null, \"attempt_id\": null}', 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'custom_dimensions': {'component_name': 'cs-capability', 'telemetry_config': '{\"collector\": {\"receiver\": null, \"exporter\": {\"appinsights\": {\"instrumentation_key\": \"fca5a4c9-adb4-44ae-bece-69e2cc91ff66\", \"endpoint_suffix\": \"services.visualstudio.com\", \"ingestion_endpoint\": null, \"aad_audience\": null}, \"jaeger\": null, \"prometheus\": null, \"timeout_millis\": null, \"level\": null}}, \"logger\": {\"console\": null, \"appinsights\": {\"instrumentation_key\": \"fca5a4c9-adb4-44ae-bece-69e2cc91ff66\", \"level\": \"info\", \"enabled\": true, \"endpoint_suffix\": \"services.visualstudio.com\", \"ingestion_endpoint\": null, \"aad_audience\": null}, \"file\": {\"extension\": \"log\", \"level\": \"info\", \"enabled\": true}}, \"node_rank\": null, \"node_id\": \"tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p\", \"disable_sensitive_scrub\": null, \"attempt_id\": null}', 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux'}}\nINFO 2023-08-14 13:44:09,944 tracer.py:57 [1] - Setting up appinsights exporter {'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'custom_dimensions': {'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux'}}\nINFO 2023-08-14 13:44:09,947 initializer.py:69 [1] - Tracer initialized {'artifact_type': 'installed', 'ci_number': '20230804.1', 'ci_name': 'CommonRuntime-prod-build', 'build_time': '2023-08-04 10:33:16.362292', 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'custom_dimensions': {'artifact_type': 'installed', 'ci_number': '20230804.1', 'ci_name': 'CommonRuntime-prod-build', 'build_time': '2023-08-04 10:33:16.362292', 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux'}}\nINFO 2023-08-14 13:44:09,947 tracer.py:122 [1] - [tracer][get_ambient_parent_ctx] parent ctx: {'current-span': NonRecordingSpan(SpanContext(trace_id=0xa6686c28fa58c512dfd7ba6439cfb864, span_id=0xb867de88ab3a1df7, trace_flags=0x01, trace_state=[], is_remote=True))} {'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'custom_dimensions': {'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux'}}\nINFO 2023-08-14 13:44:09,950 service.py:320 [1] - [start_services]: starting service {'address': 'unix:///mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0', 'max_workers': 2, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'SpanId': 'e881ce91b9a88056', 'TraceFlags': '01', 'traceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'spanId': 'e881ce91b9a88056', 'custom_dimensions': {'address': 'unix:///mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0', 'max_workers': 2, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'SpanId': 'e881ce91b9a88056', 'TraceFlags': '01', 'traceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'spanId': 'e881ce91b9a88056'}}\nINFO 2023-08-14 13:44:09,963 service.py:352 [1] - [start_services]: waiting on end_event {'server_start_attempt': 0, 'max_attempts': 3, 'retry_delay_secs': 5, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'SpanId': 'e881ce91b9a88056', 'TraceFlags': '01', 'traceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'spanId': 'e881ce91b9a88056', 'custom_dimensions': {'server_start_attempt': 0, 'max_attempts': 3, 'retry_delay_secs': 5, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'SpanId': 'e881ce91b9a88056', 'TraceFlags': '01', 'traceId': 'a6686c28fa58c512dfd7ba6439cfb864', 'spanId': 'e881ce91b9a88056'}}\nINFO 2023-08-14 13:44:10,138 service.py:57 [1] - [start] Extracting Snapshots: None {'snapshot': None, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '096cf1efddca3c9d09056d98eca4e3ec', 'SpanId': '655ace9f661dabf4', 'TraceFlags': '01', 'traceId': '096cf1efddca3c9d09056d98eca4e3ec', 'spanId': '655ace9f661dabf4', 'custom_dimensions': {'snapshot': None, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '096cf1efddca3c9d09056d98eca4e3ec', 'SpanId': '655ace9f661dabf4', 'TraceFlags': '01', 'traceId': '096cf1efddca3c9d09056d98eca4e3ec', 'spanId': '655ace9f661dabf4'}}\nINFO 2023-08-14 13:44:10,140 service.py:87 [1] - [start] Entering context managers {'context_managers': [], 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '096cf1efddca3c9d09056d98eca4e3ec', 'SpanId': '655ace9f661dabf4', 'TraceFlags': '01', 'traceId': '096cf1efddca3c9d09056d98eca4e3ec', 'spanId': '655ace9f661dabf4', 'custom_dimensions': {'context_managers': [], 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '096cf1efddca3c9d09056d98eca4e3ec', 'SpanId': '655ace9f661dabf4', 'TraceFlags': '01', 'traceId': '096cf1efddca3c9d09056d98eca4e3ec', 'spanId': '655ace9f661dabf4'}}\nINFO 2023-08-14 13:44:10,140 context_manager.py:71 [1] - enter_contexts {'success': True, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '096cf1efddca3c9d09056d98eca4e3ec', 'SpanId': '655ace9f661dabf4', 'TraceFlags': '01', 'traceId': '096cf1efddca3c9d09056d98eca4e3ec', 'spanId': '655ace9f661dabf4', 'custom_dimensions': {'success': True, 'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '096cf1efddca3c9d09056d98eca4e3ec', 'SpanId': '655ace9f661dabf4', 'TraceFlags': '01', 'traceId': '096cf1efddca3c9d09056d98eca4e3ec', 'spanId': '655ace9f661dabf4'}}\n\nsystem_logs/hosttools_capability/hosttools-capability.log : \n----\n2023-08-14T13:44:09.970615Z  INFO grpc_utils::health: Watched child process is alive\n2023-08-14T13:44:09.977473Z  INFO grpc_utils::health: Watched child process is alive\n2023-08-14T13:44:09.979340Z  INFO hosttools-capability.start: grpc_utils::server: Got grpc request request_name=\"start\" remote_addr=None\n2023-08-14T13:44:09.979429Z  INFO hosttools-capability.start: hosttools_capability::capability_service: close time.busy=96.6µs time.idle=18.0µs\n2023-08-14T13:44:23.961093Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 file LS_root/jobs/wd/.tmp does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 file LS_root/jobs/wd/.tmp does not exist\"\n2023-08-14T13:44:23.961281Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log/metrics-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log/metrics-capability.log\"\n2023-08-14T13:44:23.961415Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 Requesting POST: [{system_logs/metrics_capability/metrics-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 Requesting POST: [{system_logs/metrics_capability/metrics-capability.log}]\"\n2023-08-14T13:44:23.961503Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:44:23.988905Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log/cs-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log/cs-capability.log\"\n2023-08-14T13:44:23.988994Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 Requesting POST: [{system_logs/cs_capability/cs-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 Requesting POST: [{system_logs/cs_capability/cs-capability.log}]\"\n2023-08-14T13:44:23.989014Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:23 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:23 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:44:24.121229Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:24 Succesfully POST artifacts: [{system_logs/metrics_capability/metrics-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:24 Succesfully POST artifacts: [{system_logs/metrics_capability/metrics-capability.log}]\"\n2023-08-14T13:44:24.171528Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:24 Succesfully POST artifacts: [{system_logs/cs_capability/cs-capability.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:24 Succesfully POST artifacts: [{system_logs/cs_capability/cs-capability.log}]\"\n2023-08-14T13:44:28.936746Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:28 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 11; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:28 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 11; FilteredData: 0.\"\n2023-08-14T13:44:49.992802Z  INFO grpc_utils::health: Watched child process is alive\n2023-08-14T13:44:53.938287Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs/std_log.txt command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs/std_log.txt\"\n2023-08-14T13:44:53.938465Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 Requesting POST: [{user_logs/std_log.txt}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 Requesting POST: [{user_logs/std_log.txt}]\"\n2023-08-14T13:44:53.938542Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:44:53.946013Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 1; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 1; FilteredData: 0.\"\n2023-08-14T13:44:53.956255Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/execution-wrapper.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 New file detected: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/execution-wrapper.log\"\n2023-08-14T13:44:53.956401Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 Requesting POST: [{system_logs/lifecycler/execution-wrapper.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 Requesting POST: [{system_logs/lifecycler/execution-wrapper.log}]\"\n2023-08-14T13:44:53.956436Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 Attempt 1 of http call to https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/artifact/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/artifacts/batch/metadata/ExperimentRun/dcid.imgbldrun_c442d5b\"\n2023-08-14T13:44:53.961330Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:53 file LS_root/jobs/wd/.tmp does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:53 file LS_root/jobs/wd/.tmp does not exist\"\n2023-08-14T13:44:54.075249Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:54 Succesfully POST artifacts: [{user_logs/std_log.txt}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:54 Succesfully POST artifacts: [{user_logs/std_log.txt}]\"\n2023-08-14T13:44:54.109689Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:54 Succesfully POST artifacts: [{system_logs/lifecycler/execution-wrapper.log}] command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:54 Succesfully POST artifacts: [{system_logs/lifecycler/execution-wrapper.log}]\"\n2023-08-14T13:44:58.946245Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:44:58 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 10; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:44:58 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 10; FilteredData: 0.\"\n\nsystem_logs/lifecycler/execution-wrapper.log : \n----\n2023-08-14T13:44:39.633730Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d ci_number=20230804.1 ci_name=CommonRuntime-prod-build build_time=2023-08-04 10:34:45.626426\n2023-08-14T13:44:39.636844Z  INFO run_execution_wrapper: execution_wrapper: Successfully dumped bootstrapping environment to file\n2023-08-14T13:44:39.636880Z  INFO run_execution_wrapper: execution_wrapper: Enable std log streaming is not specified in executor configuration, default to not stream logs to stdout and stderr\n2023-08-14T13:44:39.636892Z  INFO run_execution_wrapper: execution_wrapper: Enable termination signal handling is not specified in executor configuration, default to ignore termination signals\n2023-08-14T13:44:39.636970Z  INFO run_execution_wrapper:execution-wrapper::run_service{executor_config=ExecutorConfig { execution_working_dir: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\", executor_address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\", lifecycler_address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\", distributed_config: None, use_mpi_rsh_agent: Some(true), executor_config: None } path_mapping_kind=None error_pattern_json_files_post_execution=None error_pattern_json_file_mid_execution=None enable_std_log_streaming=false skip_user_log_file_generation=false enable_termination_signal_handling=false env_dump_result=Ok(())}: execution_wrapper::service: serving execution service at executor_address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\n2023-08-14T13:44:39.637155Z  INFO run_execution_wrapper:execution-wrapper::run_service{executor_config=ExecutorConfig { execution_working_dir: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\", executor_address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\", lifecycler_address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\", distributed_config: None, use_mpi_rsh_agent: Some(true), executor_config: None } path_mapping_kind=None error_pattern_json_files_post_execution=None error_pattern_json_file_mid_execution=None enable_std_log_streaming=false skip_user_log_file_generation=false enable_termination_signal_handling=false env_dump_result=Ok(())}: cr_core: Successfully configured current process to ignore termination signals\n2023-08-14T13:44:39.637184Z  INFO run_execution_wrapper:execution-wrapper::run_service{executor_config=ExecutorConfig { execution_working_dir: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\", executor_address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\", lifecycler_address: \"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\", distributed_config: None, use_mpi_rsh_agent: Some(true), executor_config: None } path_mapping_kind=None error_pattern_json_files_post_execution=None error_pattern_json_file_mid_execution=None enable_std_log_streaming=false skip_user_log_file_generation=false enable_termination_signal_handling=false env_dump_result=Ok(())}:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }\n2023-08-14T13:44:39.642957Z  INFO ExecutionServicer::run: grpc_utils::server: Got grpc request request_name=\"run\" remote_addr=None\n2023-08-14T13:44:39.643027Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}: execution_wrapper::service: spawn_execution request id=\"df48ec94-b7b1-40a4-b319-f42412708226\" client_address=Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\")\n2023-08-14T13:44:39.643067Z  WARN ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}: execution_wrapper::legacy_env_vars: Skip injecting legacy env vars, distributed config is None, setting only the defaults\n2023-08-14T13:44:39.643087Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}: execution_wrapper::legacy_env_vars: Injecting AZ_BATCHAI_JOB_WORK_DIR=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd working_dir=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\"\n2023-08-14T13:44:39.643112Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}: execution_wrapper::legacy_env_vars: Injecting AZUREML_PROCESS_NAME=main as default\n2023-08-14T13:44:39.643186Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:get_gpu_count: execution_wrapper::common: Get ComputeContext from env success compute_context=ComputeContext { cluster_name: \"forskerplp2ss0q\", node_id: Literal(\"tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p\"), vm_id: Some(\"087d6635-f4a7-441d-bfb3-c4e1f89890fd\"), run_attempt_count: 1, gpu_count: Some(0), vm_size: Some(\"STANDARD_DS2_V2\"), readable_cluster_name: Some(\"forskerplp2ss0q\"), vm_priority: Some(LowPriority), use_vnet_or_private_link: true }\n2023-08-14T13:44:39.643223Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:get_gpu_count: execution_wrapper::common: close time.busy=86.6µs time.idle=7.40µs\n2023-08-14T13:44:39.643251Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Updated env AZUREML_CR_EXECUTOR_CONFIG for spawned process\n2023-08-14T13:44:39.643266Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Env var AZUREML_CR_DISTRIBUTED_CONFIG is empty for current process\n2023-08-14T13:44:39.643277Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Updated env AZUREML_SERVICE_ENDPOINT for spawned process\n2023-08-14T13:44:39.643294Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Updated env AZUREML_SERVICE_CERT_ENDPOINT for spawned process\n2023-08-14T13:44:39.643308Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Updated env AZUREML_DISCOVERY_SERVICE_ENDPOINT for spawned process\n2023-08-14T13:44:39.643322Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Env var AZUREML_DEV_URL_MLFLOW is empty for current process\n2023-08-14T13:44:39.643338Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: Updated env AZUREML_RUN_HISTORY_SERVICE_ENDPOINT for spawned process\n2023-08-14T13:44:39.643350Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}:override_dc_env_vars: execution_wrapper::dc_env_vars: close time.busy=101µs time.idle=2.50µs\n2023-08-14T13:44:39.643363Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:inject_legacy_env_vars{distributed_config=None}: execution_wrapper::legacy_env_vars: close time.busy=297µs time.idle=5.80µs\n2023-08-14T13:44:39.643393Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}: execution_wrapper::infiniband_utils: Is InfiniBand device present: false infiniband_device_path=\"/dev/infiniband/uverbs0\"\n2023-08-14T13:44:39.643412Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}: execution_wrapper::service: Spawning execution\n2023-08-14T13:44:39.643753Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:Execution::parse_commands: execution_wrapper::execution: close time.busy=112µs time.idle=3.70µs\n2023-08-14T13:44:39.644198Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:Execution::spawn{wait_execution_completion=false}: execution_wrapper::execution: Spawning target process\n2023-08-14T13:44:39.645208Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:Execution::spawn{wait_execution_completion=false}: execution_wrapper::execution: execution process spawned pid=12\n2023-08-14T13:44:39.645371Z  INFO execution_wrapper::execution: start waiting for processes execution to complete num_processes=1\n2023-08-14T13:44:39.645452Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: ProcessManagerExecution state changing from PendingExecution to PendingExecution\n\nsystem_logs/lifecycler/lifecycler.log : \n----\n2023-08-14T13:44:09.963965Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0\")\n2023-08-14T13:44:09.964071Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=189ms time.idle=18.1s\n2023-08-14T13:44:09.964237Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.966233Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/cs-capability:0\")\n2023-08-14T13:44:09.966321Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=305µs time.idle=1.79ms\n2023-08-14T13:44:09.966406Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Waiting for service to become healthy: CS_CAPABILITY service_name=CS_CAPABILITY timeout=30s\n2023-08-14T13:44:09.966478Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.968453Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_client: Health status for service: CS_CAPABILITY service_name=CS_CAPABILITY health_status=1\n2023-08-14T13:44:09.968529Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Service has become healthy service_name=CS_CAPABILITY\n2023-08-14T13:44:09.968580Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: close time.busy=344µs time.idle=1.84ms\n2023-08-14T13:44:09.968764Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.968993Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\")\n2023-08-14T13:44:09.969475Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=711µs time.idle=6.90µs\n2023-08-14T13:44:09.969637Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.969826Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/hosttools-capability:0\")\n2023-08-14T13:44:09.970133Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=496µs time.idle=5.40µs\n2023-08-14T13:44:09.970208Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Waiting for service to become healthy: HOSTTOOLS_CAPABILITY service_name=HOSTTOOLS_CAPABILITY timeout=30s\n2023-08-14T13:44:09.970263Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.971510Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_client: Health status for service: HOSTTOOLS_CAPABILITY service_name=HOSTTOOLS_CAPABILITY health_status=1\n2023-08-14T13:44:09.971593Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Service has become healthy service_name=HOSTTOOLS_CAPABILITY\n2023-08-14T13:44:09.971637Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: close time.busy=302µs time.idle=1.13ms\n2023-08-14T13:44:09.971787Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.971997Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\")\n2023-08-14T13:44:09.972049Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=262µs time.idle=5.20µs\n2023-08-14T13:44:09.972183Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.972363Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\")\n2023-08-14T13:44:09.972419Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=236µs time.idle=4.30µs\n2023-08-14T13:44:09.972477Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Waiting for service to become healthy: METRICS_CAPABILITY service_name=METRICS_CAPABILITY timeout=30s\n2023-08-14T13:44:09.972528Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.973951Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_client: Health status for service: METRICS_CAPABILITY service_name=METRICS_CAPABILITY health_status=1\n2023-08-14T13:44:09.974018Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Service has become healthy service_name=METRICS_CAPABILITY\n2023-08-14T13:44:09.974110Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: close time.busy=309µs time.idle=1.33ms\n2023-08-14T13:44:09.974276Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.974532Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\")\n2023-08-14T13:44:09.974598Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=322µs time.idle=5.00µs\n2023-08-14T13:44:09.974728Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 86400s }\n2023-08-14T13:44:09.975107Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/snapshot-capability:0\")\n2023-08-14T13:44:09.975168Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:connect: grpc_utils::endpoint::connect: close time.busy=440µs time.idle=4.20µs\n2023-08-14T13:44:09.975228Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Waiting for service to become healthy: SNAPSHOT_CAPABILITY service_name=SNAPSHOT_CAPABILITY timeout=30s\n2023-08-14T13:44:09.975285Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.976632Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_client: Health status for service: SNAPSHOT_CAPABILITY service_name=SNAPSHOT_CAPABILITY health_status=1\n2023-08-14T13:44:09.976701Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: Service has become healthy service_name=SNAPSHOT_CAPABILITY\n2023-08-14T13:44:09.976745Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities:wait_for_service_healthy: lifecycler::health_monitor: close time.busy=261µs time.idle=1.26ms\n2023-08-14T13:44:09.976803Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_capabilities: lifecycler::lifecycle: close time.busy=207ms time.idle=18.1s\n2023-08-14T13:44:09.976874Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.976902Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.976915Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.976926Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.978399Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"CS_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.979061Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"HOSTTOOLS_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.979724Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"HOSTTOOLS_CAPABILITY\"}: lifecycler::capability_client: Received success code for start cap_name=HOSTTOOLS_CAPABILITY\n2023-08-14T13:44:09.979794Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"HOSTTOOLS_CAPABILITY\"}: lifecycler::capability_client: close time.busy=661µs time.idle=82.1µs\n2023-08-14T13:44:09.979879Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"METRICS_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:09.980458Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"METRICS_CAPABILITY\"}: lifecycler::capability_client: Received success code for start cap_name=METRICS_CAPABILITY\n2023-08-14T13:44:09.980520Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"METRICS_CAPABILITY\"}: lifecycler::capability_client: close time.busy=580µs time.idle=69.0µs\n2023-08-14T13:44:09.980587Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"SNAPSHOT_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:10.141841Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"CS_CAPABILITY\"}: lifecycler::capability_client: Received success code for start cap_name=CS_CAPABILITY\n2023-08-14T13:44:10.141949Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"CS_CAPABILITY\"}: lifecycler::capability_client: close time.busy=274µs time.idle=163ms\n2023-08-14T13:44:10.285628Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"SNAPSHOT_CAPABILITY\"}: lifecycler::capability_client: Received success code for start cap_name=SNAPSHOT_CAPABILITY\n2023-08-14T13:44:10.285731Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities:start{name=\"SNAPSHOT_CAPABILITY\"}: lifecycler::capability_client: close time.busy=4.42ms time.idle=301ms\n2023-08-14T13:44:10.285833Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:start_capabilities: lifecycler::lifecycle: close time.busy=7.05ms time.idle=300ms\n2023-08-14T13:44:10.285919Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:exit_capabilities{cap_type=Operation job_result=JobResult { job_status: Succeeded, error: None }}:get_cap_type{name=\"CS_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=400ns time.idle=4.60µs\n2023-08-14T13:44:10.285976Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:exit_capabilities{cap_type=Operation job_result=JobResult { job_status: Succeeded, error: None }}:get_cap_type{name=\"HOSTTOOLS_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=500ns time.idle=3.80µs\n2023-08-14T13:44:10.286033Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:exit_capabilities{cap_type=Operation job_result=JobResult { job_status: Succeeded, error: None }}:get_cap_type{name=\"METRICS_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=500ns time.idle=3.70µs\n2023-08-14T13:44:10.286136Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:exit_capabilities{cap_type=Operation job_result=JobResult { job_status: Succeeded, error: None }}:get_cap_type{name=\"SNAPSHOT_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=600ns time.idle=4.70µs\n2023-08-14T13:44:10.286188Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:exit_capabilities{cap_type=Operation job_result=JobResult { job_status: Succeeded, error: None }}: lifecycler::lifecycle: close time.busy=281µs time.idle=10.5µs\n2023-08-14T13:44:10.286240Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle: lifecycler::lifecycle: exited operation caps: true\n2023-08-14T13:44:10.286423Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 172800s }\n2023-08-14T13:44:39.638990Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\")\n2023-08-14T13:44:39.639101Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect:connect: grpc_utils::endpoint::connect: close time.busy=287ms time.idle=29.1s\n2023-08-14T13:44:39.639268Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect: lifecycler::executor_client: close time.busy=299ms time.idle=29.1s\n2023-08-14T13:44:39.639443Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 172800s }\n2023-08-14T13:44:39.639644Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\")\n2023-08-14T13:44:39.639710Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect:connect: grpc_utils::endpoint::connect: close time.busy=267µs time.idle=4.20µs\n2023-08-14T13:44:39.639762Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect: lifecycler::executor_client: close time.busy=434µs time.idle=7.90µs\n2023-08-14T13:44:39.639876Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 172800s }\n2023-08-14T13:44:39.640520Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/executor:0\")\n2023-08-14T13:44:39.640563Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:connect: grpc_utils::endpoint::connect: close time.busy=186µs time.idle=505µs\n2023-08-14T13:44:39.640594Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:wait_for_service_healthy: lifecycler::health_monitor: Waiting for service to become healthy: Executor service_name=Executor timeout=30s\n2023-08-14T13:44:39.640625Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:wait_for_service_healthy: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:39.641166Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:wait_for_service_healthy: lifecycler::health_client: Health status for service: Executor service_name=Executor health_status=1\n2023-08-14T13:44:39.641232Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:wait_for_service_healthy: lifecycler::health_monitor: Service has become healthy service_name=Executor\n2023-08-14T13:44:39.641289Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor:wait_for_service_healthy: lifecycler::health_monitor: close time.busy=238µs time.idle=461µs\n2023-08-14T13:44:39.641349Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_executor: lifecycler::lifecycle: close time.busy=313ms time.idle=29.0s\n2023-08-14T13:44:39.641401Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:connect_lifecyclers{lifecycler_addresses=None}: lifecycler::lifecycle: close time.busy=1.30µs time.idle=6.10µs\n2023-08-14T13:44:39.641538Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: entering phase rank=None phase=0 is_leader=true entered_phases=false\n2023-08-14T13:44:39.641618Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:barrier_sync: lifecycler::lifecycle: close time.busy=1.30µs time.idle=4.00µs\n2023-08-14T13:44:39.641720Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: Successfully got AzureML Context from environment, updating Run History with new run attempt\n2023-08-14T13:44:39.641767Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: Skip updating run_attempt since cannot find AZUREML_CR_ENABLE_RUN_ATTEMPT_COUNT_BY_RUN_HISTORY from environment\n2023-08-14T13:44:39.641817Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: starting phase execution rank=None phase=0\n2023-08-14T13:44:39.641858Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: executing phase commands rank=None phase=0\n2023-08-14T13:44:39.641914Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}: lifecycler::executor_client: Executing commands\n2023-08-14T13:44:39.642400Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}:executor_client::start_execution{lifecycler_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" debug_mode=Some(false) commands_f=Command(Command { executable: Spawn(Spawn { program: \"python\", args: Some([\"-u\", \"-c\", \"\\nimport json\\nimport os\\nimport os.path\\nimport runpy\\nimport sys\\nimport traceback\\n\\nclass NoopContextManager:\\n    def __enter__(self):\\n        pass\\n\\n    def __exit__(self, *args, **kwargs):\\n        pass\\n\\nclass ErrorHandlerContextManager:\\n    def __init__(self, inner_cm):\\n        self.inner_cm = inner_cm\\n\\n    def __enter__(self):\\n        return ErrorHandlerContextManager.do_op_and_write_error(lambda: self.inner_cm.__enter__(), 'UserExecution.context_manager.enter')\\n\\n    def __exit__(self, exc_type, exc_value, traceback):\\n        if exc_value:\\n            write_error('UserExecution.script', 'UserError', exc_value, 'NonCompliant')\\n        return ErrorHandlerContextManager.do_op_and_write_error(lambda: self.inner_cm.__exit__(exc_type, exc_value, traceback), 'UserExecution.context_manager.exit')\\n\\n    @staticmethod\\n    def do_op_and_write_error(op, error_code):\\n        try:\\n            return op()\\n        except Exception as e:\\n            write_error(error_code, 'SystemError', e, 'Compliant')\\n            raise\\n\\ndef write_error(code, category, error, compliant):\\n    try:\\n        error_path = os.environ.get('_AZUREML_CR_ERROR_JSON_FILE')\\n        dir = os.path.dirname(error_path)\\n        os.makedirs(dir, exist_ok=True)\\n        with open(error_path, 'x') as f:\\n            f.write(json.dumps(to_cr_error(code, category, error, compliant)))\\n    except:\\n        pass\\n\\ndef to_cr_error(code, category, error, compliant):\\n    known_errors = [\\n        'BaseException', 'SystemExit', 'KeyboardInterrupt', 'GeneratorExit', 'Exception', 'StopIteration', 'StopAsyncIteration',\\n        'ArithmeticError', 'FloatingPointError', 'OverflowError', 'ZeroDivisionError', 'AssertionError', 'AttributeError',\\n        'BufferError', 'EOFError', 'ImportError', 'ModuleNotFoundError', 'LookupError', 'IndexError', 'KeyError', 'MemoryError',\\n        'NameError', 'UnboundLocalError', 'OSError', 'BlockingIOError', 'ChildProcessError', 'ConnectionError', 'BrokenPipeError',\\n        'ConnectionAbortedError', 'ConnectionRefusedError', 'ConnectionResetError', 'FileExistsError', 'FileNotFoundError',\\n        'InterruptedError', 'IsADirectoryError', 'NotADirectoryError', 'PermissionError', 'ProcessLookupError', 'TimeoutError',\\n        'ReferenceError', 'RuntimeError', 'NotImplementedError', 'RecursionError', 'SyntaxError', 'IndentationError', 'TabError',\\n        'SystemError', 'TypeError', 'ValueError', 'UnicodeError', 'UnicodeDecodeError', 'UnicodeEncodeError', 'UnicodeTranslateError',\\n        'Warning', 'DeprecationWarning', 'PendingDeprecationWarning', 'RuntimeWarning', 'SyntaxWarning', 'UserWarning',\\n        'FutureWarning', 'ImportWarning', 'UnicodeWarning', 'BytesWarning', 'EncodingWarning', 'ResourceWarning', 'IOError',\\n        'EnvironmentError'\\n    ]\\n    exc_type, exc_val, exc_traceback = sys.exc_info()\\n    stack_trace = ''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback))\\n    exception_type = type(error).__name__\\n    known_error = exception_type in known_errors\\n    exception_type_compliance = 'Compliant' if known_error else compliant\\n\\n    cr_error = {\\n        'code': code,\\n        'category': category,\\n        'message': { compliant: str(error) },\\n        'details': [\\n            {\\n                'name': 'StackTrace',\\n                'value': { compliant: stack_trace }\\n            },\\n            {\\n                'name': 'ExceptionType',\\n                'value': { exception_type_compliance: exception_type }\\n            },\\n        ]\\n    }\\n\\n    try:\\n        from azureml.exceptions import AzureMLException, UserErrorException\\n        if isinstance(error, UserErrorException):\\n            cr_error['category'] = 'UserError'\\n        if isinstance(error, AzureMLException):\\n            cr_error['details'][1]['value'] = { 'Compliant': exception_type }\\n    except:\\n        pass\\n\\n    return cr_error\\n\\n# Copied from context manager injector\\ndef strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback):\\n    \\\"\\\"\\\"\\n        The actual traceback that gets printed when the exception is in the user code is:\\n\\n        Traceback(most recent call last) :\\n            File 'azureml-setup/context_manager_injector.py', line 161, in <module>\\n                execute_with_context(cm_objects, options.invocation)\\n            File 'azureml-setup/context_manager_injector.py', line 91, in execute_with_context\\n                runpy.run_path(sys.argv[0], globals(), run_name= '__main__')\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 263, in run_path\\n                pkg_name = pkg_name, script_name = fname)\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 96, in _run_module_code\\n                mod_name, mod_spec, pkg_name, script_name)\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 85, in _run_code\\n                exec(code, run_globals)\\n            File 'bad_import.py', line 5, in <module>\\n                import thisdoesnotexist\\n        ModuleNotFoundError: No module named 'thisdoesnotexist'\\n\\n        however we strip the first 5 layers to give the user a traceback that only contains the user code as part of it\\n    \\\"\\\"\\\"\\n    traceback_as_list = traceback.format_exception(exc_type, exc_val, exc_traceback)\\n    reversed_traceback_list = reversed(traceback_as_list)\\n    reversed_trimmed_stack = []\\n    # currently the innermost runpy stack occurs inside runpy.py in _run_code and inside the exec(code, run_globals) function\\n    # if that changes then the regular stack will be printed\\n    keywords_in_innermost_runpy_stack_frame = ['runpy.py', '_run_code', 'exec(code, run_globals)']\\n    error_is_in_user_code = False\\n    for stack_frame in reversed_traceback_list:\\n        if all([keyword in stack_frame for keyword in keywords_in_innermost_runpy_stack_frame]):\\n            error_is_in_user_code = True\\n            break\\n        reversed_trimmed_stack.append(stack_frame)\\n    if error_is_in_user_code:\\n        # Find the first index of 'Traceback (most recent call last):' in reversed list and append the cause exceptions\\n        # This will handle users using 'from with raise' when raising exception\\n        reversed_traceback_as_list = traceback_as_list[::-1]\\n        traceback_indexes = [idx for idx,stack_frame in enumerate(reversed_traceback_as_list)\\n                             if 'Traceback (most recent call last):' in stack_frame]\\n        if len(traceback_indexes) > 0:\\n            reversed_trimmed_stack.extend(reversed_traceback_as_list[traceback_indexes[0]:])\\n\\n    return list(reversed(reversed_trimmed_stack))\\n\\ndef set_tags_for_mlflow_run():\\n    # Prepare MLflow integration if supported\\n    try:\\n        from azureml.core.run import Run\\n        from azureml.mlflow import _setup_remote\\n        run = Run.get_context()\\n        _setup_remote(run)\\n    except Exception:\\n        return\\n\\ndef main():\\n    # This used to be done in a context_managers.py and context_manager_injector.py where it will add current working\\n    # directory and the script's directory to sys.path respectively.\\n    # We want to make sure the script's directory is added to the start of sys.path so that it is searched\\n    # first and the current working directory is added to the end so that it is searched last.\\n    sys.path.insert(0, os.path.dirname(os.path.abspath(sys.argv[1])))\\n    sys.path.append(os.getcwd())\\n\\n    try:\\n        # The Run import below is only needed to avoid circular dependency import issue\\n        # in the context manager's exit calls\\n        from azureml.core import Run\\n        from azureml._history.utils.context_managers import SendRunKillSignal\\n\\n        # Only do this check if AzureML is used\\n        if sys.version_info.major != 3 or sys.version_info.minor < 5:\\n            raise RuntimeError(f'Python version {str(sys.version_info)} is not supported. Please use python>=3.5')\\n\\n        # The SendRunKillSignal context manager is misleadingly named. It is actually used to flush metrics of\\n        # all the RunHistoryFacade instances. The way it does that is the RunHistoryFacade's constructor registers\\n        # a clean up handler that calls flush on the metrics client it has, the handler itself is registered to\\n        # a class variable of the RunHistoryFacade class. The SendRunKillSignal context manager's exit method\\n        # calls the RunHistoryFacade._kill class method which goes and calls the all of the registered exit handlers\\n        # which in turn flushes the metrics. The code below is copied from the run history context manager code.\\n        send_kill_signal = not os.environ.get('AZUREML_DISABLE_RUN_KILL_SIGNAL')\\n        kill_signal_timeout = float(os.environ.get('AZUREML_RUN_KILL_SIGNAL_TIMEOUT_SEC', '300'))\\n        context = SendRunKillSignal(send_kill_signal, kill_signal_timeout)\\n    except ImportError:\\n        context = NoopContextManager()\\n    except RuntimeError:\\n        raise\\n    except Exception as e:\\n        print(f'Warning: Failed to setup Azure Machine Learning system code due to `{e}`. Your job will proceed but if you notice any issues, please contact Azure Support with this exception message.', file=sys.stderr)\\n        context = NoopContextManager()\\n\\n    set_tags_for_mlflow_run()\\n\\n    context = ErrorHandlerContextManager(context)\\n    with context:\\n        # when we invoke with `python -c program args`, sys.argv[0] will be -c, args will be the rest (i.e. sys.argv[1:])\\n        expanded_argv = []\\n        for arg in sys.argv[1:]:\\n            arg = os.path.expandvars(arg)\\n            expanded_argv.append(arg)\\n        sys.argv = expanded_argv\\n        runpy.run_path(sys.argv[0], globals(), run_name='__main__')\\n\\nif __name__ == '__main__':\\n    try:\\n        main()\\n    except SystemExit as ex:\\n        # Copied from context manager injector\\n        exc_type, exc_val, exc_traceback = sys.exc_info()\\n        print(''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback)), file=sys.stderr)\\n        if ex.code is not None:\\n            sys.exit(ex.code)\\n    except Exception as ex:\\n        # Copied from context manager injector\\n        exc_type, exc_val, exc_traceback = sys.exc_info()\\n        print(''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback)), file=sys.stderr)\\n        sys.exit(1)\\n\", \"prepare.py\", \"--name\", \"pytorch\", \"--version\", \"Autosave_2023-08-14T13:38:01Z_907c2612\", \"--platform\", \"Linux\"]), success_return_code: Zero { additional_codes: [] } }), stderr: None, stdout: Some(\"user_logs/std_log.txt\") }) path_mappings_f={}}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:39.642481Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}:executor_client::start_execution{lifecycler_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" debug_mode=Some(false) commands_f=Command(Command { executable: Spawn(Spawn { program: \"python\", args: Some([\"-u\", \"-c\", \"\\nimport json\\nimport os\\nimport os.path\\nimport runpy\\nimport sys\\nimport traceback\\n\\nclass NoopContextManager:\\n    def __enter__(self):\\n        pass\\n\\n    def __exit__(self, *args, **kwargs):\\n        pass\\n\\nclass ErrorHandlerContextManager:\\n    def __init__(self, inner_cm):\\n        self.inner_cm = inner_cm\\n\\n    def __enter__(self):\\n        return ErrorHandlerContextManager.do_op_and_write_error(lambda: self.inner_cm.__enter__(), 'UserExecution.context_manager.enter')\\n\\n    def __exit__(self, exc_type, exc_value, traceback):\\n        if exc_value:\\n            write_error('UserExecution.script', 'UserError', exc_value, 'NonCompliant')\\n        return ErrorHandlerContextManager.do_op_and_write_error(lambda: self.inner_cm.__exit__(exc_type, exc_value, traceback), 'UserExecution.context_manager.exit')\\n\\n    @staticmethod\\n    def do_op_and_write_error(op, error_code):\\n        try:\\n            return op()\\n        except Exception as e:\\n            write_error(error_code, 'SystemError', e, 'Compliant')\\n            raise\\n\\ndef write_error(code, category, error, compliant):\\n    try:\\n        error_path = os.environ.get('_AZUREML_CR_ERROR_JSON_FILE')\\n        dir = os.path.dirname(error_path)\\n        os.makedirs(dir, exist_ok=True)\\n        with open(error_path, 'x') as f:\\n            f.write(json.dumps(to_cr_error(code, category, error, compliant)))\\n    except:\\n        pass\\n\\ndef to_cr_error(code, category, error, compliant):\\n    known_errors = [\\n        'BaseException', 'SystemExit', 'KeyboardInterrupt', 'GeneratorExit', 'Exception', 'StopIteration', 'StopAsyncIteration',\\n        'ArithmeticError', 'FloatingPointError', 'OverflowError', 'ZeroDivisionError', 'AssertionError', 'AttributeError',\\n        'BufferError', 'EOFError', 'ImportError', 'ModuleNotFoundError', 'LookupError', 'IndexError', 'KeyError', 'MemoryError',\\n        'NameError', 'UnboundLocalError', 'OSError', 'BlockingIOError', 'ChildProcessError', 'ConnectionError', 'BrokenPipeError',\\n        'ConnectionAbortedError', 'ConnectionRefusedError', 'ConnectionResetError', 'FileExistsError', 'FileNotFoundError',\\n        'InterruptedError', 'IsADirectoryError', 'NotADirectoryError', 'PermissionError', 'ProcessLookupError', 'TimeoutError',\\n        'ReferenceError', 'RuntimeError', 'NotImplementedError', 'RecursionError', 'SyntaxError', 'IndentationError', 'TabError',\\n        'SystemError', 'TypeError', 'ValueError', 'UnicodeError', 'UnicodeDecodeError', 'UnicodeEncodeError', 'UnicodeTranslateError',\\n        'Warning', 'DeprecationWarning', 'PendingDeprecationWarning', 'RuntimeWarning', 'SyntaxWarning', 'UserWarning',\\n        'FutureWarning', 'ImportWarning', 'UnicodeWarning', 'BytesWarning', 'EncodingWarning', 'ResourceWarning', 'IOError',\\n        'EnvironmentError'\\n    ]\\n    exc_type, exc_val, exc_traceback = sys.exc_info()\\n    stack_trace = ''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback))\\n    exception_type = type(error).__name__\\n    known_error = exception_type in known_errors\\n    exception_type_compliance = 'Compliant' if known_error else compliant\\n\\n    cr_error = {\\n        'code': code,\\n        'category': category,\\n        'message': { compliant: str(error) },\\n        'details': [\\n            {\\n                'name': 'StackTrace',\\n                'value': { compliant: stack_trace }\\n            },\\n            {\\n                'name': 'ExceptionType',\\n                'value': { exception_type_compliance: exception_type }\\n            },\\n        ]\\n    }\\n\\n    try:\\n        from azureml.exceptions import AzureMLException, UserErrorException\\n        if isinstance(error, UserErrorException):\\n            cr_error['category'] = 'UserError'\\n        if isinstance(error, AzureMLException):\\n            cr_error['details'][1]['value'] = { 'Compliant': exception_type }\\n    except:\\n        pass\\n\\n    return cr_error\\n\\n# Copied from context manager injector\\ndef strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback):\\n    \\\"\\\"\\\"\\n        The actual traceback that gets printed when the exception is in the user code is:\\n\\n        Traceback(most recent call last) :\\n            File 'azureml-setup/context_manager_injector.py', line 161, in <module>\\n                execute_with_context(cm_objects, options.invocation)\\n            File 'azureml-setup/context_manager_injector.py', line 91, in execute_with_context\\n                runpy.run_path(sys.argv[0], globals(), run_name= '__main__')\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 263, in run_path\\n                pkg_name = pkg_name, script_name = fname)\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 96, in _run_module_code\\n                mod_name, mod_spec, pkg_name, script_name)\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 85, in _run_code\\n                exec(code, run_globals)\\n            File 'bad_import.py', line 5, in <module>\\n                import thisdoesnotexist\\n        ModuleNotFoundError: No module named 'thisdoesnotexist'\\n\\n        however we strip the first 5 layers to give the user a traceback that only contains the user code as part of it\\n    \\\"\\\"\\\"\\n    traceback_as_list = traceback.format_exception(exc_type, exc_val, exc_traceback)\\n    reversed_traceback_list = reversed(traceback_as_list)\\n    reversed_trimmed_stack = []\\n    # currently the innermost runpy stack occurs inside runpy.py in _run_code and inside the exec(code, run_globals) function\\n    # if that changes then the regular stack will be printed\\n    keywords_in_innermost_runpy_stack_frame = ['runpy.py', '_run_code', 'exec(code, run_globals)']\\n    error_is_in_user_code = False\\n    for stack_frame in reversed_traceback_list:\\n        if all([keyword in stack_frame for keyword in keywords_in_innermost_runpy_stack_frame]):\\n            error_is_in_user_code = True\\n            break\\n        reversed_trimmed_stack.append(stack_frame)\\n    if error_is_in_user_code:\\n        # Find the first index of 'Traceback (most recent call last):' in reversed list and append the cause exceptions\\n        # This will handle users using 'from with raise' when raising exception\\n        reversed_traceback_as_list = traceback_as_list[::-1]\\n        traceback_indexes = [idx for idx,stack_frame in enumerate(reversed_traceback_as_list)\\n                             if 'Traceback (most recent call last):' in stack_frame]\\n        if len(traceback_indexes) > 0:\\n            reversed_trimmed_stack.extend(reversed_traceback_as_list[traceback_indexes[0]:])\\n\\n    return list(reversed(reversed_trimmed_stack))\\n\\ndef set_tags_for_mlflow_run():\\n    # Prepare MLflow integration if supported\\n    try:\\n        from azureml.core.run import Run\\n        from azureml.mlflow import _setup_remote\\n        run = Run.get_context()\\n        _setup_remote(run)\\n    except Exception:\\n        return\\n\\ndef main():\\n    # This used to be done in a context_managers.py and context_manager_injector.py where it will add current working\\n    # directory and the script's directory to sys.path respectively.\\n    # We want to make sure the script's directory is added to the start of sys.path so that it is searched\\n    # first and the current working directory is added to the end so that it is searched last.\\n    sys.path.insert(0, os.path.dirname(os.path.abspath(sys.argv[1])))\\n    sys.path.append(os.getcwd())\\n\\n    try:\\n        # The Run import below is only needed to avoid circular dependency import issue\\n        # in the context manager's exit calls\\n        from azureml.core import Run\\n        from azureml._history.utils.context_managers import SendRunKillSignal\\n\\n        # Only do this check if AzureML is used\\n        if sys.version_info.major != 3 or sys.version_info.minor < 5:\\n            raise RuntimeError(f'Python version {str(sys.version_info)} is not supported. Please use python>=3.5')\\n\\n        # The SendRunKillSignal context manager is misleadingly named. It is actually used to flush metrics of\\n        # all the RunHistoryFacade instances. The way it does that is the RunHistoryFacade's constructor registers\\n        # a clean up handler that calls flush on the metrics client it has, the handler itself is registered to\\n        # a class variable of the RunHistoryFacade class. The SendRunKillSignal context manager's exit method\\n        # calls the RunHistoryFacade._kill class method which goes and calls the all of the registered exit handlers\\n        # which in turn flushes the metrics. The code below is copied from the run history context manager code.\\n        send_kill_signal = not os.environ.get('AZUREML_DISABLE_RUN_KILL_SIGNAL')\\n        kill_signal_timeout = float(os.environ.get('AZUREML_RUN_KILL_SIGNAL_TIMEOUT_SEC', '300'))\\n        context = SendRunKillSignal(send_kill_signal, kill_signal_timeout)\\n    except ImportError:\\n        context = NoopContextManager()\\n    except RuntimeError:\\n        raise\\n    except Exception as e:\\n        print(f'Warning: Failed to setup Azure Machine Learning system code due to `{e}`. Your job will proceed but if you notice any issues, please contact Azure Support with this exception message.', file=sys.stderr)\\n        context = NoopContextManager()\\n\\n    set_tags_for_mlflow_run()\\n\\n    context = ErrorHandlerContextManager(context)\\n    with context:\\n        # when we invoke with `python -c program args`, sys.argv[0] will be -c, args will be the rest (i.e. sys.argv[1:])\\n        expanded_argv = []\\n        for arg in sys.argv[1:]:\\n            arg = os.path.expandvars(arg)\\n            expanded_argv.append(arg)\\n        sys.argv = expanded_argv\\n        runpy.run_path(sys.argv[0], globals(), run_name='__main__')\\n\\nif __name__ == '__main__':\\n    try:\\n        main()\\n    except SystemExit as ex:\\n        # Copied from context manager injector\\n        exc_type, exc_val, exc_traceback = sys.exc_info()\\n        print(''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback)), file=sys.stderr)\\n        if ex.code is not None:\\n            sys.exit(ex.code)\\n    except Exception as ex:\\n        # Copied from context manager injector\\n        exc_type, exc_val, exc_traceback = sys.exc_info()\\n        print(''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback)), file=sys.stderr)\\n        sys.exit(1)\\n\", \"prepare.py\", \"--name\", \"pytorch\", \"--version\", \"Autosave_2023-08-14T13:38:01Z_907c2612\", \"--platform\", \"Linux\"]), success_return_code: Zero { additional_codes: [] } }), stderr: None, stdout: Some(\"user_logs/std_log.txt\") }) path_mappings_f={}}: lifecycler::executor_client: Starting execution execution_id=df48ec94-b7b1-40a4-b319-f42412708226 lifecycler_address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\n2023-08-14T13:44:39.645784Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}:executor_client::start_execution{lifecycler_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" debug_mode=Some(false) commands_f=Command(Command { executable: Spawn(Spawn { program: \"python\", args: Some([\"-u\", \"-c\", \"\\nimport json\\nimport os\\nimport os.path\\nimport runpy\\nimport sys\\nimport traceback\\n\\nclass NoopContextManager:\\n    def __enter__(self):\\n        pass\\n\\n    def __exit__(self, *args, **kwargs):\\n        pass\\n\\nclass ErrorHandlerContextManager:\\n    def __init__(self, inner_cm):\\n        self.inner_cm = inner_cm\\n\\n    def __enter__(self):\\n        return ErrorHandlerContextManager.do_op_and_write_error(lambda: self.inner_cm.__enter__(), 'UserExecution.context_manager.enter')\\n\\n    def __exit__(self, exc_type, exc_value, traceback):\\n        if exc_value:\\n            write_error('UserExecution.script', 'UserError', exc_value, 'NonCompliant')\\n        return ErrorHandlerContextManager.do_op_and_write_error(lambda: self.inner_cm.__exit__(exc_type, exc_value, traceback), 'UserExecution.context_manager.exit')\\n\\n    @staticmethod\\n    def do_op_and_write_error(op, error_code):\\n        try:\\n            return op()\\n        except Exception as e:\\n            write_error(error_code, 'SystemError', e, 'Compliant')\\n            raise\\n\\ndef write_error(code, category, error, compliant):\\n    try:\\n        error_path = os.environ.get('_AZUREML_CR_ERROR_JSON_FILE')\\n        dir = os.path.dirname(error_path)\\n        os.makedirs(dir, exist_ok=True)\\n        with open(error_path, 'x') as f:\\n            f.write(json.dumps(to_cr_error(code, category, error, compliant)))\\n    except:\\n        pass\\n\\ndef to_cr_error(code, category, error, compliant):\\n    known_errors = [\\n        'BaseException', 'SystemExit', 'KeyboardInterrupt', 'GeneratorExit', 'Exception', 'StopIteration', 'StopAsyncIteration',\\n        'ArithmeticError', 'FloatingPointError', 'OverflowError', 'ZeroDivisionError', 'AssertionError', 'AttributeError',\\n        'BufferError', 'EOFError', 'ImportError', 'ModuleNotFoundError', 'LookupError', 'IndexError', 'KeyError', 'MemoryError',\\n        'NameError', 'UnboundLocalError', 'OSError', 'BlockingIOError', 'ChildProcessError', 'ConnectionError', 'BrokenPipeError',\\n        'ConnectionAbortedError', 'ConnectionRefusedError', 'ConnectionResetError', 'FileExistsError', 'FileNotFoundError',\\n        'InterruptedError', 'IsADirectoryError', 'NotADirectoryError', 'PermissionError', 'ProcessLookupError', 'TimeoutError',\\n        'ReferenceError', 'RuntimeError', 'NotImplementedError', 'RecursionError', 'SyntaxError', 'IndentationError', 'TabError',\\n        'SystemError', 'TypeError', 'ValueError', 'UnicodeError', 'UnicodeDecodeError', 'UnicodeEncodeError', 'UnicodeTranslateError',\\n        'Warning', 'DeprecationWarning', 'PendingDeprecationWarning', 'RuntimeWarning', 'SyntaxWarning', 'UserWarning',\\n        'FutureWarning', 'ImportWarning', 'UnicodeWarning', 'BytesWarning', 'EncodingWarning', 'ResourceWarning', 'IOError',\\n        'EnvironmentError'\\n    ]\\n    exc_type, exc_val, exc_traceback = sys.exc_info()\\n    stack_trace = ''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback))\\n    exception_type = type(error).__name__\\n    known_error = exception_type in known_errors\\n    exception_type_compliance = 'Compliant' if known_error else compliant\\n\\n    cr_error = {\\n        'code': code,\\n        'category': category,\\n        'message': { compliant: str(error) },\\n        'details': [\\n            {\\n                'name': 'StackTrace',\\n                'value': { compliant: stack_trace }\\n            },\\n            {\\n                'name': 'ExceptionType',\\n                'value': { exception_type_compliance: exception_type }\\n            },\\n        ]\\n    }\\n\\n    try:\\n        from azureml.exceptions import AzureMLException, UserErrorException\\n        if isinstance(error, UserErrorException):\\n            cr_error['category'] = 'UserError'\\n        if isinstance(error, AzureMLException):\\n            cr_error['details'][1]['value'] = { 'Compliant': exception_type }\\n    except:\\n        pass\\n\\n    return cr_error\\n\\n# Copied from context manager injector\\ndef strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback):\\n    \\\"\\\"\\\"\\n        The actual traceback that gets printed when the exception is in the user code is:\\n\\n        Traceback(most recent call last) :\\n            File 'azureml-setup/context_manager_injector.py', line 161, in <module>\\n                execute_with_context(cm_objects, options.invocation)\\n            File 'azureml-setup/context_manager_injector.py', line 91, in execute_with_context\\n                runpy.run_path(sys.argv[0], globals(), run_name= '__main__')\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 263, in run_path\\n                pkg_name = pkg_name, script_name = fname)\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 96, in _run_module_code\\n                mod_name, mod_spec, pkg_name, script_name)\\n            File '<USERPROFILE>\\\\AppData\\\\Local\\\\Continuum\\\\Miniconda3\\\\envs\\\\cli_dev\\\\lib\\\\runpy.py', line 85, in _run_code\\n                exec(code, run_globals)\\n            File 'bad_import.py', line 5, in <module>\\n                import thisdoesnotexist\\n        ModuleNotFoundError: No module named 'thisdoesnotexist'\\n\\n        however we strip the first 5 layers to give the user a traceback that only contains the user code as part of it\\n    \\\"\\\"\\\"\\n    traceback_as_list = traceback.format_exception(exc_type, exc_val, exc_traceback)\\n    reversed_traceback_list = reversed(traceback_as_list)\\n    reversed_trimmed_stack = []\\n    # currently the innermost runpy stack occurs inside runpy.py in _run_code and inside the exec(code, run_globals) function\\n    # if that changes then the regular stack will be printed\\n    keywords_in_innermost_runpy_stack_frame = ['runpy.py', '_run_code', 'exec(code, run_globals)']\\n    error_is_in_user_code = False\\n    for stack_frame in reversed_traceback_list:\\n        if all([keyword in stack_frame for keyword in keywords_in_innermost_runpy_stack_frame]):\\n            error_is_in_user_code = True\\n            break\\n        reversed_trimmed_stack.append(stack_frame)\\n    if error_is_in_user_code:\\n        # Find the first index of 'Traceback (most recent call last):' in reversed list and append the cause exceptions\\n        # This will handle users using 'from with raise' when raising exception\\n        reversed_traceback_as_list = traceback_as_list[::-1]\\n        traceback_indexes = [idx for idx,stack_frame in enumerate(reversed_traceback_as_list)\\n                             if 'Traceback (most recent call last):' in stack_frame]\\n        if len(traceback_indexes) > 0:\\n            reversed_trimmed_stack.extend(reversed_traceback_as_list[traceback_indexes[0]:])\\n\\n    return list(reversed(reversed_trimmed_stack))\\n\\ndef set_tags_for_mlflow_run():\\n    # Prepare MLflow integration if supported\\n    try:\\n        from azureml.core.run import Run\\n        from azureml.mlflow import _setup_remote\\n        run = Run.get_context()\\n        _setup_remote(run)\\n    except Exception:\\n        return\\n\\ndef main():\\n    # This used to be done in a context_managers.py and context_manager_injector.py where it will add current working\\n    # directory and the script's directory to sys.path respectively.\\n    # We want to make sure the script's directory is added to the start of sys.path so that it is searched\\n    # first and the current working directory is added to the end so that it is searched last.\\n    sys.path.insert(0, os.path.dirname(os.path.abspath(sys.argv[1])))\\n    sys.path.append(os.getcwd())\\n\\n    try:\\n        # The Run import below is only needed to avoid circular dependency import issue\\n        # in the context manager's exit calls\\n        from azureml.core import Run\\n        from azureml._history.utils.context_managers import SendRunKillSignal\\n\\n        # Only do this check if AzureML is used\\n        if sys.version_info.major != 3 or sys.version_info.minor < 5:\\n            raise RuntimeError(f'Python version {str(sys.version_info)} is not supported. Please use python>=3.5')\\n\\n        # The SendRunKillSignal context manager is misleadingly named. It is actually used to flush metrics of\\n        # all the RunHistoryFacade instances. The way it does that is the RunHistoryFacade's constructor registers\\n        # a clean up handler that calls flush on the metrics client it has, the handler itself is registered to\\n        # a class variable of the RunHistoryFacade class. The SendRunKillSignal context manager's exit method\\n        # calls the RunHistoryFacade._kill class method which goes and calls the all of the registered exit handlers\\n        # which in turn flushes the metrics. The code below is copied from the run history context manager code.\\n        send_kill_signal = not os.environ.get('AZUREML_DISABLE_RUN_KILL_SIGNAL')\\n        kill_signal_timeout = float(os.environ.get('AZUREML_RUN_KILL_SIGNAL_TIMEOUT_SEC', '300'))\\n        context = SendRunKillSignal(send_kill_signal, kill_signal_timeout)\\n    except ImportError:\\n        context = NoopContextManager()\\n    except RuntimeError:\\n        raise\\n    except Exception as e:\\n        print(f'Warning: Failed to setup Azure Machine Learning system code due to `{e}`. Your job will proceed but if you notice any issues, please contact Azure Support with this exception message.', file=sys.stderr)\\n        context = NoopContextManager()\\n\\n    set_tags_for_mlflow_run()\\n\\n    context = ErrorHandlerContextManager(context)\\n    with context:\\n        # when we invoke with `python -c program args`, sys.argv[0] will be -c, args will be the rest (i.e. sys.argv[1:])\\n        expanded_argv = []\\n        for arg in sys.argv[1:]:\\n            arg = os.path.expandvars(arg)\\n            expanded_argv.append(arg)\\n        sys.argv = expanded_argv\\n        runpy.run_path(sys.argv[0], globals(), run_name='__main__')\\n\\nif __name__ == '__main__':\\n    try:\\n        main()\\n    except SystemExit as ex:\\n        # Copied from context manager injector\\n        exc_type, exc_val, exc_traceback = sys.exc_info()\\n        print(''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback)), file=sys.stderr)\\n        if ex.code is not None:\\n            sys.exit(ex.code)\\n    except Exception as ex:\\n        # Copied from context manager injector\\n        exc_type, exc_val, exc_traceback = sys.exc_info()\\n        print(''.join(strip_stack_of_azureml_layers(exc_type, exc_val, exc_traceback)), file=sys.stderr)\\n        sys.exit(1)\\n\", \"prepare.py\", \"--name\", \"pytorch\", \"--version\", \"Autosave_2023-08-14T13:38:01Z_907c2612\", \"--platform\", \"Linux\"]), success_return_code: Zero { additional_codes: [] } }), stderr: None, stdout: Some(\"user_logs/std_log.txt\") }) path_mappings_f={}}: lifecycler::executor_client: close time.busy=290µs time.idle=3.33ms\n2023-08-14T13:44:39.645888Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}: lifecycler::executor_client: Waiting for execution completion execution_id=\"df48ec94-b7b1-40a4-b319-f42412708226\"\n2023-08-14T13:44:49.990832Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:49.990899Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:49.990930Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:49.990949Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:44:49.991133Z  WARN grpc_utils::span: failed to inject span context to grpc request\n\nsystem_logs/metrics_capability/metrics-capability.log : \n----\n2023-08-14T13:44:00.202681Z  INFO telemetry: job_telemetry_init artifact_type=installed branch=origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d ci_number=20230804.1 ci_name=CommonRuntime-prod-build build_time=2023-08-04 10:35:16.022910\n2023-08-14T13:44:00.202993Z  INFO metrics-capability::do_main: metrics_capability: metrics cap config cap_config=MetricsCapConfig { polling_interval_sec: 15, send_to_history_interval_sec: 60, enabled_resource_metrics: [\"CpuUtilizationPercentage\", \"GpuUtilizationPercentage\", \"GpuEnergyJoules\", \"GpuMemoryUtilizationPercentage\", \"GpuMemoryUtilizationMegabytes\", \"GpuMemoryCapacityMegabytes\", \"CpuMemoryUtilizationPercentage\", \"CpuMemoryUtilizationMegabytes\", \"CpuMemoryCapacityMegabytes\", \"DiskReadMegabytes\", \"DiskWriteMegabytes\", \"NetworkInputMegabytes\", \"NetworkOutputMegabytes\", \"IBReceiveMegabytes\", \"IBTransmitMegabytes\", \"DiskUsedMegabytes\", \"DiskAvailMegabytes\", \"StorageAPISuccessCount\", \"StorageAPIFailureCount\"], reserved_disk_space_bytes: 1400000000, additional_scrape_jobs: [], prometheus_push_gateway_port: None, enable_job_cost_metrics: true }\n2023-08-14T13:44:00.203190Z  INFO metrics-capability::do_main: metrics_capability: run token file created\n2023-08-14T13:44:00.203258Z  INFO metrics-capability::do_main: metrics_capability: embedded file file=\"prometheus-template.yml\"\n2023-08-14T13:44:00.203813Z  INFO metrics-capability::do_main: metrics_capability: prometheus config file created\n2023-08-14T13:44:00.203898Z  INFO metrics-capability::do_main: metrics_capability: No GPUs found, skipping nvidia-smi instant exporter\n2023-08-14T13:44:00.204111Z  INFO metrics-capability::do_main: metrics_capability::additional_scrape_jobs_configer: created additional scrape jobs additional_scrape_jobs=\"- targets:\\n  - localhost:9500\\n\"\n2023-08-14T13:44:00.204190Z  INFO metrics-capability::do_main: metrics_capability: prometheus push gateway not enabled\n2023-08-14T13:44:00.204290Z  INFO metrics_capability: starting prometheus subprocess watcher task\n2023-08-14T13:44:00.204329Z  INFO metrics_capability: starting prometheus subprocess: prometheus [\"--storage.tsdb.retention.time=30m\", \"--log.level=info\", \"--enable-feature=expand-external-labels\", \"--config.file=/usr/local/bin/prometheus.yml\", \"--web.listen-address=0.0.0.0:9090\"] retry_count=1\n2023-08-14T13:44:00.204478Z  INFO metrics_capability: starting cadvisor subprocess watcher task\n2023-08-14T13:44:00.204505Z  INFO metrics_capability: starting cadvisor subprocess: cadvisor [\"--stderrthreshold=0\", \"--raw_cgroup_prefix_whitelist=/system.slice/containerd.service\", \"--listen_ip=0.0.0.0\", \"--port=8081\"] retry_count=1\n2023-08-14T13:44:00.204720Z  INFO metrics-capability::do_main: metrics_capability: starting metrics-cap exporter thread, listen on 0.0.0.0:9500\n2023-08-14T13:44:00.205001Z  INFO metrics-capability::do_main: metrics_capability: metrics capability starting service address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\n2023-08-14T13:44:00.205113Z  INFO metrics-capability::do_main:metrics-capability::run_service{address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\" handles=[JoinHandle { id: Id(7) }, JoinHandle { id: Id(8) }, JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }]}: metrics_capability::service: metrics capability starting service address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\n2023-08-14T13:44:00.205403Z  INFO metrics-capability::do_main:metrics-capability::run_service{address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\" handles=[JoinHandle { id: Id(7) }, JoinHandle { id: Id(8) }, JoinHandle { id: Id(9) }, JoinHandle { id: Id(10) }, JoinHandle { id: Id(11) }, JoinHandle { id: Id(12) }]}:serve: grpc_utils::endpoint::serve: serving gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/metrics-capability:0\") retry=ExponentialBackoffRetry { retry_delay_secs: 2, delay_factor: 1000, num_retries: 3 }\n2023-08-14T13:44:00.205848Z  INFO metrics_capability: started prometheus subprocess\n2023-08-14T13:44:00.205880Z  INFO metrics_capability: starting node-exporter subprocess watcher task\n2023-08-14T13:44:00.205892Z  INFO metrics_capability: starting node-exporter subprocess: node_exporter [\"--collector.disable-defaults\", \"--collector.infiniband\", \"--collector.diskstats\", \"--log.level=info\", \"--web.listen-address=0.0.0.0:9100\"] retry_count=1\n2023-08-14T13:44:00.207586Z  INFO metrics_capability: started cadvisor subprocess\n2023-08-14T13:44:00.207633Z  INFO metrics_capability: heartbeat: starting\n2023-08-14T13:44:00.220384Z  INFO metrics_capability: started node-exporter subprocess\n2023-08-14T13:44:00.221158Z  INFO metrics_capability: starting run token updater task\n2023-08-14T13:44:00.221304Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint=\"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\" run_id=RunId { subscription_id: \"f8c5aac3-29fc-4387-858a-1f61722fb57a\", resource_group_name: \"forskerpl-p2ss0q-rg\", workspace_name: \"forskerpl-p2ss0q-mlw\", experiment_name: \"prepare_image\", run_id: \"imgbldrun_c442d5b\" }}: vienna_client::run_history: Calling service service_endpoint=\"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\"\n2023-08-14T13:44:00.230977Z  INFO metrics_capability: starting disk full checker, reserved_disk_space_bytes: 1400000000\n2023-08-14T13:44:00.231126Z  INFO metrics_capability: heartbeat: AZ_BATCH_NODE_ROOT_DIR (node_disk_available_bytes) = 11516915712 metric_name=node_disk_available_bytes value=11516915712 root_dir=/mnt/root_dir\n2023-08-14T13:44:00.250145Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.250Z caller=node_exporter.go:180 level=info msg=\"Starting node_exporter\" version=\"(version=1.6.0, branch=HEAD, revision=ff7f9d69b645cb691dd3e84dc3afc88f5c006962)\"\n2023-08-14T13:44:00.250355Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.250Z caller=node_exporter.go:181 level=info msg=\"Build context\" build_context=\"(go=go1.20.4, platform=linux/amd64, user=root@f9c3ed0cfbd3, date=20230527-12:03:54, tags=netgo osusergo static_build)\"\n2023-08-14T13:44:00.250717Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.250Z caller=node_exporter.go:183 level=warn msg=\"Node Exporter is running as root user. This exporter is designed to run as unprivileged user, root is not required.\"\n2023-08-14T13:44:00.251555Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.251Z caller=diskstats_common.go:111 level=info collector=diskstats msg=\"Parsed flag --collector.diskstats.device-exclude\" flag=^(ram|loop|fd|(h|s|v|xv)d[a-z]|nvme\\d+n\\d+p)\\d+$\n2023-08-14T13:44:00.251790Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.251Z caller=diskstats_linux.go:265 level=error collector=diskstats msg=\"Failed to open directory, disabling udev device properties\" path=/run/udev/data\n2023-08-14T13:44:00.254348Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.254Z caller=node_exporter.go:110 level=info msg=\"Enabled collectors\"\n2023-08-14T13:44:00.254615Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.254Z caller=node_exporter.go:117 level=info collector=diskstats\n2023-08-14T13:44:00.254751Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.254Z caller=node_exporter.go:117 level=info collector=infiniband\n2023-08-14T13:44:00.257240Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.256Z caller=tls_config.go:274 level=info msg=\"Listening on\" address=[::]:9100\n2023-08-14T13:44:00.257622Z  INFO metrics_capability: [node-exporter] ts=2023-08-14T13:44:00.257Z caller=tls_config.go:277 level=info msg=\"TLS is disabled.\" http2=false address=[::]:9100\n2023-08-14T13:44:00.315198Z  INFO vienna_client::run_history::refresh_run_token{service_endpoint=\"https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms\" run_id=RunId { subscription_id: \"f8c5aac3-29fc-4387-858a-1f61722fb57a\", resource_group_name: \"forskerpl-p2ss0q-rg\", workspace_name: \"forskerpl-p2ss0q-mlw\", experiment_name: \"prepare_image\", run_id: \"imgbldrun_c442d5b\" }}: vienna_client::run_history: close time.busy=19.7ms time.idle=74.2ms\n2023-08-14T13:44:00.315239Z  INFO metrics_capability: run token refreshed, expiration 2023-08-15 13:44:00.308748200 +00:00\n2023-08-14T13:44:00.315391Z  INFO metrics_capability: run token written to file\n2023-08-14T13:44:00.334828Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.334Z caller=main.go:174 level=info msg=\"Experimental expand-external-labels enabled\"\n2023-08-14T13:44:00.336003Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.335Z caller=main.go:578 level=info msg=\"Starting Prometheus Server\" mode=server version=\"(version=2.45.0, branch=HEAD, revision=8ef767e396bf8445f009f945b0162fd71827f445)\"\n2023-08-14T13:44:00.336130Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.336Z caller=main.go:583 level=info build_context=\"(go=go1.20.5, platform=linux/amd64, user=root@920118f645b7, date=20230623-15:09:49, tags=netgo,builtinassets,stringlabels)\"\n2023-08-14T13:44:00.336234Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.336Z caller=main.go:584 level=info host_details=\"(Linux 5.15.0-1038-azure #45~20.04.1-Ubuntu SMP Tue Apr 25 18:45:15 UTC 2023 x86_64 0f8b7eba08744c78b6db0b495665fcdd000000 (none))\"\n2023-08-14T13:44:00.336337Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.336Z caller=main.go:585 level=info fd_limits=\"(soft=262144, hard=262144)\"\n2023-08-14T13:44:00.336431Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.336Z caller=main.go:586 level=info vm_limits=\"(soft=unlimited, hard=unlimited)\"\n2023-08-14T13:44:00.338625Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.338Z caller=web.go:562 level=info component=web msg=\"Start listening for connections\" address=0.0.0.0:9090\n2023-08-14T13:44:00.342038Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.339Z caller=main.go:1019 level=info msg=\"Starting TSDB ...\"\n2023-08-14T13:44:00.349650Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.349Z caller=tls_config.go:274 level=info component=web msg=\"Listening on\" address=[::]:9090\n2023-08-14T13:44:00.349792Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.349Z caller=tls_config.go:277 level=info component=web msg=\"TLS is disabled.\" http2=false address=[::]:9090\n2023-08-14T13:44:00.352325Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.352Z caller=head.go:595 level=info component=tsdb msg=\"Replaying on-disk memory mappable chunks if any\"\n2023-08-14T13:44:00.352445Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.352Z caller=head.go:676 level=info component=tsdb msg=\"On-disk memory mappable chunks replay completed\" duration=4.3µs\n2023-08-14T13:44:00.352542Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.352Z caller=head.go:684 level=info component=tsdb msg=\"Replaying WAL, this may take a while\"\n2023-08-14T13:44:00.353640Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.353Z caller=head.go:755 level=info component=tsdb msg=\"WAL segment loaded\" segment=0 maxSegment=0\n2023-08-14T13:44:00.353746Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.353Z caller=head.go:792 level=info component=tsdb msg=\"WAL replay completed\" checkpoint_replay_duration=75.003µs wal_replay_duration=1.021241ms wbl_replay_duration=100ns total_replay_duration=1.297352ms\n2023-08-14T13:44:00.355098Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.355Z caller=main.go:1040 level=info fs_type=794c7630\n2023-08-14T13:44:00.355188Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.355Z caller=main.go:1043 level=info msg=\"TSDB started\"\n2023-08-14T13:44:00.355360Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.355Z caller=main.go:1224 level=info msg=\"Loading configuration file\" filename=/usr/local/bin/prometheus.yml\n2023-08-14T13:44:00.357294Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.357Z caller=dedupe.go:112 component=remote level=info remote_name=8c748a url=https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/metric/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/api/2.0/prometheus/post msg=\"Starting WAL watcher\" queue=8c748a\n2023-08-14T13:44:00.357627Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.357Z caller=dedupe.go:112 component=remote level=info remote_name=8c748a url=https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/metric/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/api/2.0/prometheus/post msg=\"Starting scraped metadata watcher\"\n2023-08-14T13:44:00.357997Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.357Z caller=dedupe.go:112 component=remote level=info remote_name=8c748a url=https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/metric/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/api/2.0/prometheus/post msg=\"Replaying WAL\" queue=8c748a\n2023-08-14T13:44:00.370281Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.370Z caller=main.go:1261 level=info msg=\"Completed loading of configuration file\" filename=/usr/local/bin/prometheus.yml totalDuration=14.899195ms db_storage=1.2µs remote_storage=1.181247ms web_handler=500ns query_engine=1.1µs scrape=10.292111ms scrape_sd=86.903µs notify=1.1µs notify_sd=2.5µs rules=2.00178ms tracing=7.7µs\n2023-08-14T13:44:00.370401Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.370Z caller=main.go:1004 level=info msg=\"Server is ready to receive web requests.\"\n2023-08-14T13:44:00.370494Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:00.370Z caller=manager.go:995 level=info component=\"rule manager\" msg=\"Starting rule manager...\"\n2023-08-14T13:44:09.980152Z  INFO metrics-capability::start: metrics_capability::capability_service: metrics capability lifecycle hook start called\n2023-08-14T13:44:09.980208Z  INFO metrics-capability::start: metrics_capability::capability_service: close time.busy=58.5µs time.idle=22.1µs\n2023-08-14T13:44:11.366312Z  INFO metrics_capability: [prometheus] ts=2023-08-14T13:44:11.366Z caller=dedupe.go:112 component=remote level=info remote_name=8c748a url=https://cd7411a6-1444-4dc7-ad9f-0eed2fcbd115.workspace.westeurope.api.azureml.ms/metric/v2.0/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourceGroups/forskerpl-p2ss0q-rg/providers/Microsoft.MachineLearningServices/workspaces/forskerpl-p2ss0q-mlw/api/2.0/prometheus/post msg=\"Done replaying WAL\" duration=11.008553029s\n\nsystem_logs/snapshot_capability/snapshot-capability.log : \n----\n2023-08-14T13:44:09.984724Z  INFO snapshot-capability.start: grpc_utils::server: Got grpc request request_name=\"start\" remote_addr=None\n2023-08-14T13:44:09.984948Z  INFO snapshot-capability.start: snapshot_capability::snapshot_downloader: Using local working directory: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd\n2023-08-14T13:44:09.984998Z  INFO snapshot-capability.start: snapshot_capability::snapshot_downloader: Fetching snapshot ID: 7e57d00e-5339-4563-8245-db3e9392a568\n2023-08-14T13:44:10.144418Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Retrieved snapshot metadata\n2023-08-14T13:44:10.256767Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Preparing to download snapshot files\n2023-08-14T13:44:10.283280Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Successfully downloaded snapshot with 1 files\n2023-08-14T13:44:10.283370Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Snapshot is downloaded, upload_hash = None, check_hash = Some(false)\n2023-08-14T13:44:10.283414Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Updating ignore file...\n2023-08-14T13:44:10.283450Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Ignore file candidates: ./.amlignore, ./.gitignore\n2023-08-14T13:44:10.283496Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: No ignore file found, create new: ./.amlignore\n2023-08-14T13:44:10.283568Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: Updating ignore file... done\n2023-08-14T13:44:10.283617Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}:snapshot_capability::fetch_local_files_based_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: close time.busy=4.65ms time.idle=134ms\n2023-08-14T13:44:10.285027Z  INFO snapshot-capability.start:snapshot_capability::fetch_snapshot{check_hash=Some(false) enforce_hash_date=Some(2023-01-01)}: snapshot_capability::snapshot_downloader: close time.busy=16.6ms time.idle=283ms\n2023-08-14T13:44:10.285178Z  INFO snapshot-capability.start: snapshot_capability::capability_service: close time.busy=17.1ms time.idle=283ms\n\nuser_logs/std_log.txt : \n----\nRetrieving notices: ...working... done\nWarning: you have pip-installed dependencies in your environment file, but you do not list pip itself as one of your conda dependencies.  Conda may not use the correct pip to install your packages, and they may end up in the wrong place.  Please add an explicit pip dependency.  I'm adding one for you, but still nagging you.\nCollecting package metadata (repodata.json): ...working... failed\n\u001b[91m\nUnavailableInvalidChannel: HTTP 404 NOT FOUND for channel test_pytorch <https://conda.anaconda.org/test_pytorch>\n\nThe channel is not accessible or is invalid.\n\nYou will need to adjust your conda configuration to proceed.\nUse `conda config --show channels` to view your configuration's current state,\nand use `conda config --show-sources` to view config file locations.\n\n\n\nsystem_logs/hosttools_capability/hosttools-capability.log : \n----\n2023-08-14T13:45:23.949771Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:45:23 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 1; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:45:23 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 1; FilteredData: 0.\"\n2023-08-14T13:45:23.961546Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:45:23 file LS_root/jobs/wd/.tmp does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:45:23 file LS_root/jobs/wd/.tmp does not exist\"\n2023-08-14T13:45:28.950226Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:45:28 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 8; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:45:28 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 8; FilteredData: 0.\"\n2023-08-14T13:45:29.997002Z  INFO grpc_utils::health: Watched child process is alive\n2023-08-14T13:45:53.952268Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:45:53 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 1; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:45:53 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 1; FilteredData: 0.\"\n2023-08-14T13:45:53.962114Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:45:53 file LS_root/jobs/wd/.tmp does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:45:53 file LS_root/jobs/wd/.tmp does not exist\"\n2023-08-14T13:45:58.952447Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:45:58 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 8; FilteredData: 0. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:45:58 Not exporting to RunHistory as the exporter is either stopped or there is no data.Stopped: false; OriginalData: 8; FilteredData: 0.\"\n\nsystem_logs/lifecycler/lifecycler.log : \n----\n2023-08-14T13:45:29.994998Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:45:29.995095Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:45:29.995340Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:45:29.995466Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:45:29.995566Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:09.999007Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:09.999134Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:09.999347Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:10.000961Z  WARN grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:10.001479Z  WARN grpc_utils::span: failed to inject span context to grpc request\n\nuser_logs/std_log.txt : \n----\nThe command '/bin/sh -c ldconfig /usr/local/cuda/lib64/stubs && conda env create -p /azureml-envs/azureml_5a626fc820e0fe82b07cb003b2a1eb5d -f azureml-environment-setup/mutated_conda_dependencies.yml && rm -rf \"$HOME/.cache/pip\" && conda clean -aqy && CONDA_ROOT_DIR=$(conda info --root) && rm -rf \"$CONDA_ROOT_DIR/pkgs\" && find \"$CONDA_ROOT_DIR\" -type d -name __pycache__ -exec rm -rf {} + && ldconfig' returned a non-zero code: 1\n\n\u001b[0m\n\nCalledProcessError(1, ['docker', 'build', '-f', 'azureml-environment-setup/Dockerfile', '-t', 'azureml/azureml_1d57f53499dcb97435ff43cc9539c11b', '.'])\n\nBuilding docker image failed with exit code: 1\n\nCleaning up all outstanding Run operations, waiting 300.0 seconds\n1 items cleaning up...\nCleanup took 0.14430451393127441 seconds\nTraceback (most recent call last):\n  File \"/azureml-envs/image-build/lib/python3.8/site-packages/azureml/core/environment.py\", line 1759, in _build_environment\n    subprocess.check_call(check_env_command, stdout=sys.stdout,\n  File \"/azureml-envs/image-build/lib/python3.8/subprocess.py\", line 364, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['/bin/bash', '-c', '/tmp/tmpsue_5f1e/azureml-environment-setup/docker_env_checker.sh']' returned non-zero exit status 1.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/azureml-envs/image-build/lib/python3.8/site-packages/azureml/core/environment.py\", line 1568, in build_local\n    self._build_environment(setup_temp_dir, check_script, build_script, environment_variables)\n  File \"/azureml-envs/image-build/lib/python3.8/site-packages/azureml/core/environment.py\", line 1763, in _build_environment\n    subprocess.check_call(build_env_command, stdout=sys.stdout,\n  File \"/azureml-envs/image-build/lib/python3.8/subprocess.py\", line 364, in check_call\n    raise CalledProcessError(retcode, cmd)\nsubprocess.CalledProcessError: Command '['/bin/bash', '-c', '/tmp/tmpsue_5f1e/azureml-environment-setup/docker_env_builder.sh']' returned non-zero exit status 1.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"prepare.py\", line 26, in <module>\n    build_local_environment(args.name, args.version, args.platform)\n  File \"prepare.py\", line 15, in build_local_environment\n    environment.build_local(workspace, platform, useDocker=True, pushImageToWorkspaceAcr=True)\n  File \"/azureml-envs/image-build/lib/python3.8/site-packages/azureml/core/environment.py\", line 1570, in build_local\n    raise Exception(\"Building environment failed with exit code: {}\".format(ex.returncode))\nException: Building environment failed with exit code: 1\n\n\nsystem_logs/cs_capability/cs-capability.log : \n----\nINFO 2023-08-14 13:46:13,492 service.py:125 [1] - [end] logging run finalizing {'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '279da38c39c307ddc2d92772378ac18e', 'SpanId': '18ca375ac80e22d1', 'TraceFlags': '01', 'traceId': '279da38c39c307ddc2d92772378ac18e', 'spanId': '18ca375ac80e22d1', 'custom_dimensions': {'subscription_id': 'f8c5aac3-29fc-4387-858a-1f61722fb57a', 'resource_group': 'forskerpl-p2ss0q-rg', 'workspace_name': 'forskerpl-p2ss0q-mlw', 'workspace_location': 'westeurope', 'experiment_name': 'prepare_image', 'node_rank': 'None', 'node_id': 'tvmps_c483498910ab2d95f5b285cf3c67fa2e80af1b54c2a7e075585adf654de19795_p', 'root_run_id': 'imgbldrun_c442d5b', 'run_id': 'imgbldrun_c442d5b', 'correlation_id': 'imgbldrun_c442d5b', 'source': 'common_runtime.cs-capability', 'session_id': 'b4436f36-aaee-4f7d-8902-fbebed9b5965', 'version': '0.0.1.20230804.1', 'commit': 'bdf26da', 'branch': 'origin/bdf26da5791ef2f2cf68d75ae7cb1cdda51bf11d', 'os': 'linux', 'TraceId': '279da38c39c307ddc2d92772378ac18e', 'SpanId': '18ca375ac80e22d1', 'TraceFlags': '01', 'traceId': '279da38c39c307ddc2d92772378ac18e', 'spanId': '18ca375ac80e22d1'}}\n\nsystem_logs/hosttools_capability/hosttools-capability.log : \n----\n2023-08-14T13:46:10.001128Z  INFO grpc_utils::health: Watched child process is alive\n2023-08-14T13:46:13.490854Z  INFO hosttools-capability.end: grpc_utils::server: Got grpc request request_name=\"end\" remote_addr=None\n2023-08-14T13:46:13.490966Z  INFO hosttools-capability.end:hosttools-capability.flush_and_shutdown_output_manager{flush_timeout_override_s=None}: hosttools_capability::capability_service: Signaling output_manager to flush logs, then terminating after: None flush_timeout=None\n2023-08-14T13:46:13.491000Z  INFO hosttools-capability.end:hosttools-capability.flush_and_shutdown_output_manager{flush_timeout_override_s=None}: hosttools_capability::capability_service: send SIGTERM to outputManager child=Child { child: Child(ChildDropGuard { inner: Child { pid: 9 }, kill_on_drop: false }), stdin: None, stdout: None, stderr: None }\n2023-08-14T13:46:13.491052Z  INFO hosttools-capability.end:hosttools-capability.flush_and_shutdown_output_manager{flush_timeout_override_s=None}: hosttools_capability::capability_service: waiting for outputManager termination child=Child { child: Child(ChildDropGuard { inner: Child { pid: 9 }, kill_on_drop: false }), stdin: None, stdout: None, stderr: None } timeout_duration=None\n2023-08-14T13:46:13.496514Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Received termination signal to shut down output manager. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Received termination signal to shut down output manager.\"\n2023-08-14T13:46:13.496589Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/execution-wrapper.log. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/execution-wrapper.log. No changes after termination signal.\"\n2023-08-14T13:46:13.496916Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for system_logs/lifecycler/execution-wrapper.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for system_logs/lifecycler/execution-wrapper.log\"\n2023-08-14T13:46:13.496948Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs/std_log.txt. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs/std_log.txt. No changes after termination signal.\"\n2023-08-14T13:46:13.496968Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for user_logs/std_log.txt command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for user_logs/std_log.txt\"\n2023-08-14T13:46:13.496983Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log/cs-capability.log. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log/cs-capability.log. No changes after termination signal.\"\n2023-08-14T13:46:13.497032Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for system_logs/cs_capability/cs-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for system_logs/cs_capability/cs-capability.log\"\n2023-08-14T13:46:13.497061Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log/metrics-capability.log. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log/metrics-capability.log. No changes after termination signal.\"\n2023-08-14T13:46:13.497091Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for system_logs/metrics_capability/metrics-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for system_logs/metrics_capability/metrics-capability.log\"\n2023-08-14T13:46:13.497114Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/lifecycler.log. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log/lifecycler.log. No changes after termination signal.\"\n2023-08-14T13:46:13.497143Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for system_logs/lifecycler/lifecycler.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for system_logs/lifecycler/lifecycler.log\"\n2023-08-14T13:46:13.497165Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log/snapshot-capability.log. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log/snapshot-capability.log. No changes after termination signal.\"\n2023-08-14T13:46:13.497194Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for system_logs/snapshot_capability/snapshot-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for system_logs/snapshot_capability/snapshot-capability.log\"\n2023-08-14T13:46:13.497221Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log/hosttools-capability.log. No changes after termination signal. command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Exiting filewatcher for streamable file /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log/hosttools-capability.log. No changes after termination signal.\"\n2023-08-14T13:46:13.497241Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 Streamer terminated for system_logs/hosttools_capability/hosttools-capability.log command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 Streamer terminated for system_logs/hosttools_capability/hosttools-capability.log\"\n2023-08-14T13:46:13.497268Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/cs-capability/wd/.azureml_cr_log one more time with 3 s!\"\n2023-08-14T13:46:13.497300Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/hosttools-capability/wd/.azureml_cr_log one more time with 3 s!\"\n2023-08-14T13:46:13.497320Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/snapshot-capability/wd/.azureml_cr_log one more time with 3 s!\"\n2023-08-14T13:46:13.497348Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/metrics-capability/wd/.azureml_cr_log one more time with 3 s!\"\n2023-08-14T13:46:13.497373Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/cap/lifecycler/wd/.azureml_cr_log one more time with 3 s!\"\n2023-08-14T13:46:13.497410Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 file LS_root/jobs/wd/.tmp does not exist command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 file LS_root/jobs/wd/.tmp does not exist\"\n2023-08-14T13:46:13.497437Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir LS_root/jobs/wd/.tmp one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir LS_root/jobs/wd/.tmp one more time with 3 s!\"\n2023-08-14T13:46:13.497456Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/logs one more time with 3 s!\"\n2023-08-14T13:46:13.497485Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/outputs one more time with 3 s!\"\n2023-08-14T13:46:13.497510Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/azureml-logs one more time with 3 s!\"\n2023-08-14T13:46:13.497528Z  INFO hosttools_capability::hosttools: stderr: 2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs one more time with 3 s! command=\"/usr/local/bin/hosttools\" line=\"2023/08/14 13:46:13 We need to refresh the dir /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/exe/wd/user_logs one more time with 3 s!\"\n\nsystem_logs/lifecycler/execution-wrapper.log : \n----\n2023-08-14T13:46:12.470174Z ERROR Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: Failed blocking user process detected, process name: python, process pid: 12, code: Some(1) success_return_code=Zero { additional_codes: [] } code=Some(1)\n2023-08-14T13:46:12.470282Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: ProcessManagerExecution state changing from PendingExecution to FailureDetected\n2023-08-14T13:46:12.470334Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: [FailureDetected] Successfully started sleeping task\n2023-08-14T13:46:12.470365Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: ProcessManagerExecution state changing from FailureDetected to ExecutionCompleted\n2023-08-14T13:46:13.471392Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: Start collecting process exit statuses\n2023-08-14T13:46:13.471480Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: Successfully collected the exit status of user process pid=12 process_name=python killed_by_process_manager=false\n2023-08-14T13:46:13.471507Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: Process manager successfully collected the exit statuses of all user processes on current node\n2023-08-14T13:46:13.471520Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: ProcessManagerExecution state changing from ExecutionCompleted to CleanupStreamingTasks\n2023-08-14T13:46:13.471579Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: Start cleaning up execution log streaming tasks\n2023-08-14T13:46:13.471592Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution::process_manager: Process manager successfully aborted all streaming tasks for current execution\n2023-08-14T13:46:13.471622Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution: The stderr path is set, starting reading stderr from file. file_path=\"user_logs/std_log.txt\"\n2023-08-14T13:46:13.472518Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution: Gathered execution result for rank 0 process_rank=0 exit_code=1 stderr_path=Some(\"user_logs/std_log.txt\")\n2023-08-14T13:46:13.472562Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution: [wait_for_completion] execution process completed.\n2023-08-14T13:46:13.484737Z  WARN Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::detect_error: [Execution-wrapper::ErrorDetector] Failed to search OOM error from dmesg logs exception=General(\"non-zero exit code Some(1) from sh: \")\n2023-08-14T13:46:13.485314Z  WARN Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:13.485371Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution:execution-wrapper::connect_to_callback_service: execution_wrapper::service: connecting to callback endpoint: /mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0 client_address=/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\n2023-08-14T13:46:13.485561Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution:execution-wrapper::connect_to_callback_service:connect: grpc_utils::endpoint::connect: Connecting to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") retry=FixedIntervalRetry { attempt_timeout_millis: 50, retry_delay_millis: 10, max_duration: 600s }\n2023-08-14T13:46:13.486573Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution:execution-wrapper::connect_to_callback_service:connect: grpc_utils::endpoint::connect: Successfully connected to gRPC service endpoint=Uds(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\")\n2023-08-14T13:46:13.486637Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution:execution-wrapper::connect_to_callback_service:connect: grpc_utils::endpoint::connect: close time.busy=1.02ms time.idle=62.6µs\n2023-08-14T13:46:13.486687Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution:execution-wrapper::connect_to_callback_service: execution_wrapper::service: close time.busy=1.27ms time.idle=52.9µs\n2023-08-14T13:46:13.496713Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution: execution_wrapper::service: Completed execution id=df48ec94-b7b1-40a4-b319-f42412708226\n2023-08-14T13:46:13.496988Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit:ExecutionFinalizer::complete_execution: execution_wrapper::service: close time.busy=1.70ms time.idle=9.99ms\n2023-08-14T13:46:13.497122Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}:ExecutionFinalizer::on_exit: execution_wrapper::service: close time.busy=1.89ms time.idle=9.96ms\n2023-08-14T13:46:13.497198Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}:Execution::spawn{wait_execution_completion=false}: execution_wrapper::execution: close time.busy=1.32ms time.idle=93.9s\n2023-08-14T13:46:13.497272Z  INFO ExecutionServicer::run:ExecutionServicer::spawn_execution{finalization=ExecutionFinalizer { execution_id: \"df48ec94-b7b1-40a4-b319-f42412708226\", client_address: Some(\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\") } wait_execution_completion=false}: execution_wrapper::service: close time.busy=2.14ms time.idle=93.9s\n2023-08-14T13:46:13.497324Z  INFO ExecutionServicer::run: execution_wrapper::service: close time.busy=2.22ms time.idle=93.9s\n2023-08-14T13:46:13.497378Z  INFO Execution::wait_for_completion{parent_span=Span { name: \"Execution::spawn\", level: Level(Info), target: \"execution_wrapper::execution\", id: Id(6755674318962691), module_path: \"execution_wrapper::execution\", line: 163, file: \"executor/execution-wrapper/src/execution/mod.rs\" } process_manager=Mutex { data: ProcessManager { dangling_processes: [], user_process_groups: [12] } }}: execution_wrapper::execution: close time.busy=5.16ms time.idle=93.8s\n2023-08-14T13:46:13.497462Z  INFO execution_wrapper::execution: process execution completed\n\nsystem_logs/lifecycler/lifecycler.log : \n----\n2023-08-14T13:46:13.489289Z  INFO ExecutionCallbackServicer::complete_execution: grpc_utils::server: Got grpc request request_name=\"complete_execution\" remote_addr=None\n2023-08-14T13:46:13.489415Z  INFO ExecutionCallbackServicer::complete_execution: lifecycler::service: close time.busy=143µs time.idle=20.4µs\n2023-08-14T13:46:13.489463Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}:executor_client::wait_for_execution_completion{execution_id=\"df48ec94-b7b1-40a4-b319-f42412708226\"}: lifecycler::executor_client: close time.busy=8.40µs time.idle=93.8s\n2023-08-14T13:46:13.489522Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}: lifecycler::executor_client: Execution completed execution_id=\"df48ec94-b7b1-40a4-b319-f42412708226\"\n2023-08-14T13:46:13.489586Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute:executor_client::execute_commands{lifecycle_address=\"/mnt/azureml/cr/j/25207ba8cbab4f849a7de613012042cb/.grpc/lifecycler:0\" scheduling=None debug_mode=Some(false)}: lifecycler::executor_client: close time.busy=1.02ms time.idle=93.8s\n2023-08-14T13:46:13.489612Z ERROR run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: failed to execute commands exception=ExecutionFailed(ExecutionsFailures([ExecutionFailure { exit_code: 1, error_message: \"Execution failed. User process 'python' exited with status code 1. Please check log file 'user_logs/std_log.txt' for error details. Error: Traceback (most recent call last):\\n  File \\\"prepare.py\\\", line 26, in <module>\\n    build_local_environment(args.name, args.version, args.platform)\\n  File \\\"prepare.py\\\", line 15, in build_local_environment\\n    environment.build_local(workspace, platform, useDocker=True, pushImageToWorkspaceAcr=True)\\n  File \\\"/azureml-envs/image-build/lib/python3.8/site-packages/azureml/core/environment.py\\\", line 1570, in build_local\\n    raise Exception(\\\"Building environment failed with exit code: {}\\\".format(ex.returncode))\\nException: Building environment failed with exit code: 1\\n\\n\", process_name: \"python\", error_file: \"user_logs/std_log.txt\" }])) rank=None phase=0\n2023-08-14T13:46:13.489720Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:execute: lifecycler::lifecycle: close time.busy=1.63ms time.idle=93.8s\n2023-08-14T13:46:13.489761Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:get_cap_type{name=\"CS_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=300ns time.idle=6.20µs\n2023-08-14T13:46:13.489791Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:get_cap_type{name=\"HOSTTOOLS_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=300ns time.idle=3.10µs\n2023-08-14T13:46:13.489806Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:get_cap_type{name=\"METRICS_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=300ns time.idle=4.30µs\n2023-08-14T13:46:13.489818Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:get_cap_type{name=\"SNAPSHOT_CAPABILITY\" type=Service}: lifecycler::capability_client: close time.busy=200ns time.idle=2.60µs\n2023-08-14T13:46:13.489838Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"CS_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:13.489882Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"HOSTTOOLS_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:13.489916Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"METRICS_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:13.489943Z  WARN run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"SNAPSHOT_CAPABILITY\"}: grpc_utils::span: failed to inject span context to grpc request\n2023-08-14T13:46:13.491818Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"METRICS_CAPABILITY\"}: lifecycler::capability_client: Received success code for end cap_name=METRICS_CAPABILITY\n2023-08-14T13:46:13.491907Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"METRICS_CAPABILITY\"}: lifecycler::capability_client: close time.busy=185µs time.idle=1.81ms\n2023-08-14T13:46:13.496757Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"SNAPSHOT_CAPABILITY\"}: lifecycler::capability_client: Received success code for end cap_name=SNAPSHOT_CAPABILITY\n2023-08-14T13:46:13.496824Z  INFO run_lifecycler:run_service_and_step_through_lifecycle:step_through_lifecycle:end_service_capabilities:end{name=\"SNAPSHOT_CAPABILITY\"}: lifecycler::capability_client: close time.busy=143µs time.idle=6.74ms\n\nsystem_logs/metrics_capability/metrics-capability.log : \n----\n2023-08-14T13:46:10.236289Z  INFO metrics_capability: heartbeat: container_memory_usage_bytes (cs-capability) = 71286784 metric_name=container_memory_usage_bytes container_name=cs-capability value=71286784\n2023-08-14T13:46:10.236370Z  INFO metrics_capability: heartbeat: container_memory_usage_bytes (hosttools-capability) = 58331136 metric_name=container_memory_usage_bytes container_name=hosttools-capability value=58331136\n2023-08-14T13:46:10.236389Z  INFO metrics_capability: heartbeat: container_memory_usage_bytes (metrics-capability) = 98955264 metric_name=container_memory_usage_bytes container_name=metrics-capability value=98955264\n2023-08-14T13:46:10.236419Z  INFO metrics_capability: heartbeat: container_memory_usage_bytes (snapshot-capability) = 11857920 metric_name=container_memory_usage_bytes container_name=snapshot-capability value=11857920\n2023-08-14T13:46:10.236442Z  INFO metrics_capability: heartbeat: container_memory_usage_bytes (lifecycler) = 12349440 metric_name=container_memory_usage_bytes container_name=lifecycler value=12349440\n2023-08-14T13:46:10.236464Z  INFO metrics_capability: heartbeat: container_memory_usage_bytes (25207ba8cbab4f849a7de613012042cb-execution-wrapper) = 97906688 metric_name=container_memory_usage_bytes container_name=25207ba8cbab4f849a7de613012042cb-execution-wrapper value=97906688\n2023-08-14T13:46:10.237809Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (cs-capability) = 0.0945893502314156 metric_name=container_cpu_utilization_percentage container_name=cs-capability value=0.0945893502314156\n2023-08-14T13:46:10.237852Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (hosttools-capability) = 0.12490129326727506 metric_name=container_cpu_utilization_percentage container_name=hosttools-capability value=0.12490129326727506\n2023-08-14T13:46:10.237870Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (metrics-capability) = 1.6242973224201678 metric_name=container_cpu_utilization_percentage container_name=metrics-capability value=1.6242973224201678\n2023-08-14T13:46:10.237891Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (snapshot-capability) = 0.011327474513251456 metric_name=container_cpu_utilization_percentage container_name=snapshot-capability value=0.011327474513251456\n2023-08-14T13:46:10.237906Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (lifecycler) = 0.40285660942727863 metric_name=container_cpu_utilization_percentage container_name=lifecycler value=0.40285660942727863\n2023-08-14T13:46:10.237925Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (25207ba8cbab4f849a7de613012042cb-execution-wrapper) = 0.4988957071737251 metric_name=container_cpu_utilization_percentage container_name=25207ba8cbab4f849a7de613012042cb-execution-wrapper value=0.4988957071737251\n2023-08-14T13:46:10.237940Z  INFO metrics_capability: heartbeat: container_cpu_utilization_percentage (dreamy_ritchie) = 34.07431220727852 metric_name=container_cpu_utilization_percentage container_name=dreamy_ritchie value=34.07431220727852\n2023-08-14T13:46:13.491287Z  INFO metrics-capability::end: metrics_capability::capability_service: metrics capability lifecycle hook end called\n2023-08-14T13:46:13.491370Z  INFO metrics-capability::end: metrics_capability::capability_service: close time.busy=86.3µs time.idle=20.4µs\n\nsystem_logs/snapshot_capability/snapshot-capability.log : \n----\n2023-08-14T13:46:13.491376Z  INFO snapshot-capability.end: grpc_utils::server: Got grpc request request_name=\"end\" remote_addr=None\n2023-08-14T13:46:13.496173Z  INFO snapshot-capability.end: snapshot_capability::capability_service: close time.busy=4.81ms time.idle=23.4µs\n\nExecution Summary\n=================\nRunId: My-Experiment_1692020249_3611d971\nWeb View: https://ml.azure.com/runs/My-Experiment_1692020249_3611d971?wsid=/subscriptions/f8c5aac3-29fc-4387-858a-1f61722fb57a/resourcegroups/forskerpl-p2ss0q-rg/workspaces/forskerpl-p2ss0q-mlw&tid=421c9c18-32c7-4250-84e0-c1626f963b1f\n"
        },
        {
          "output_type": "error",
          "ename": "ActivityFailedException",
          "evalue": "ActivityFailedException:\n\tMessage: Activity Failed:\n{\n    \"error\": {\n        \"code\": \"UserError\",\n        \"message\": \"Image build failed. For more details, check log file azureml-logs/20_image_build_log.txt.\",\n        \"messageFormat\": \"Image build failed. For more details, check log file {ArtifactPath}.\",\n        \"messageParameters\": {\n            \"ArtifactPath\": \"azureml-logs/20_image_build_log.txt\"\n        },\n        \"details\": [],\n        \"innerError\": {\n            \"code\": \"BadArgument\",\n            \"innerError\": {\n                \"code\": \"ImageBuildFailure\"\n            }\n        }\n    },\n    \"correlation\": {\n        \"operation\": \"25e2bf00936db1e9ce487cb882430769\",\n        \"request\": \"665e4279a0b8529c\"\n    },\n    \"environment\": \"westeurope\",\n    \"location\": \"westeurope\",\n    \"time\": \"2023-08-14T13:48:39.769365Z\",\n    \"componentName\": \"RunHistory\"\n}\n\tInnerException None\n\tErrorResponse \n{\n    \"error\": {\n        \"message\": \"Activity Failed:\\n{\\n    \\\"error\\\": {\\n        \\\"code\\\": \\\"UserError\\\",\\n        \\\"message\\\": \\\"Image build failed. For more details, check log file azureml-logs/20_image_build_log.txt.\\\",\\n        \\\"messageFormat\\\": \\\"Image build failed. For more details, check log file {ArtifactPath}.\\\",\\n        \\\"messageParameters\\\": {\\n            \\\"ArtifactPath\\\": \\\"azureml-logs/20_image_build_log.txt\\\"\\n        },\\n        \\\"details\\\": [],\\n        \\\"innerError\\\": {\\n            \\\"code\\\": \\\"BadArgument\\\",\\n            \\\"innerError\\\": {\\n                \\\"code\\\": \\\"ImageBuildFailure\\\"\\n            }\\n        }\\n    },\\n    \\\"correlation\\\": {\\n        \\\"operation\\\": \\\"25e2bf00936db1e9ce487cb882430769\\\",\\n        \\\"request\\\": \\\"665e4279a0b8529c\\\"\\n    },\\n    \\\"environment\\\": \\\"westeurope\\\",\\n    \\\"location\\\": \\\"westeurope\\\",\\n    \\\"time\\\": \\\"2023-08-14T13:48:39.769365Z\\\",\\n    \\\"componentName\\\": \\\"RunHistory\\\"\\n}\"\n    }\n}",
          "traceback": [
            "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m",
            "\u001b[0;31mActivityFailedException\u001b[0m                   Traceback (most recent call last)",
            "Cell \u001b[0;32mIn[7], line 53\u001b[0m\n\u001b[1;32m     47\u001b[0m src \u001b[38;5;241m=\u001b[39m ScriptRunConfig(source_directory\u001b[38;5;241m=\u001b[39mscript_folder,\n\u001b[1;32m     48\u001b[0m                       script\u001b[38;5;241m=\u001b[39mscript_name,\n\u001b[1;32m     49\u001b[0m                       compute_target \u001b[38;5;241m=\u001b[39m \u001b[38;5;124m'\u001b[39m\u001b[38;5;124mMikkelsGPU\u001b[39m\u001b[38;5;124m'\u001b[39m,\n\u001b[1;32m     50\u001b[0m                       environment\u001b[38;5;241m=\u001b[39menv) \n\u001b[1;32m     52\u001b[0m run \u001b[38;5;241m=\u001b[39m experiment\u001b[38;5;241m.\u001b[39msubmit(src)\n\u001b[0;32m---> 53\u001b[0m \u001b[43mrun\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mwait_for_completion\u001b[49m\u001b[43m(\u001b[49m\u001b[43mshow_output\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;28;43;01mTrue\u001b[39;49;00m\u001b[43m)\u001b[49m\n",
            "File \u001b[0;32m/anaconda/envs/azureml_py38_PT_TF/lib/python3.8/site-packages/azureml/core/run.py:849\u001b[0m, in \u001b[0;36mRun.wait_for_completion\u001b[0;34m(self, show_output, wait_post_processing, raise_on_error)\u001b[0m\n\u001b[1;32m    847\u001b[0m \u001b[38;5;28;01mif\u001b[39;00m show_output:\n\u001b[1;32m    848\u001b[0m     \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[0;32m--> 849\u001b[0m         \u001b[38;5;28;43mself\u001b[39;49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43m_stream_run_output\u001b[49m\u001b[43m(\u001b[49m\n\u001b[1;32m    850\u001b[0m \u001b[43m            \u001b[49m\u001b[43mfile_handle\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43msys\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mstdout\u001b[49m\u001b[43m,\u001b[49m\n\u001b[1;32m    851\u001b[0m \u001b[43m            \u001b[49m\u001b[43mwait_post_processing\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mwait_post_processing\u001b[49m\u001b[43m,\u001b[49m\n\u001b[1;32m    852\u001b[0m \u001b[43m            \u001b[49m\u001b[43mraise_on_error\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mraise_on_error\u001b[49m\u001b[43m)\u001b[49m\n\u001b[1;32m    853\u001b[0m         \u001b[38;5;28;01mreturn\u001b[39;00m \u001b[38;5;28mself\u001b[39m\u001b[38;5;241m.\u001b[39mget_details()\n\u001b[1;32m    854\u001b[0m     \u001b[38;5;28;01mexcept\u001b[39;00m \u001b[38;5;167;01mKeyboardInterrupt\u001b[39;00m:\n",
            "File \u001b[0;32m/anaconda/envs/azureml_py38_PT_TF/lib/python3.8/site-packages/azureml/core/run.py:1102\u001b[0m, in \u001b[0;36mRun._stream_run_output\u001b[0;34m(self, file_handle, wait_post_processing, raise_on_error)\u001b[0m\n\u001b[1;32m   1100\u001b[0m         file_handle\u001b[38;5;241m.\u001b[39mwrite(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[38;5;124m\"\u001b[39m)\n\u001b[1;32m   1101\u001b[0m     \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[0;32m-> 1102\u001b[0m         \u001b[38;5;28;01mraise\u001b[39;00m ActivityFailedException(error_details\u001b[38;5;241m=\u001b[39mjson\u001b[38;5;241m.\u001b[39mdumps(error, indent\u001b[38;5;241m=\u001b[39m\u001b[38;5;241m4\u001b[39m))\n\u001b[1;32m   1104\u001b[0m file_handle\u001b[38;5;241m.\u001b[39mwrite(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;130;01m\\n\u001b[39;00m\u001b[38;5;124m\"\u001b[39m)\n\u001b[1;32m   1105\u001b[0m file_handle\u001b[38;5;241m.\u001b[39mflush()\n",
            "\u001b[0;31mActivityFailedException\u001b[0m: ActivityFailedException:\n\tMessage: Activity Failed:\n{\n    \"error\": {\n        \"code\": \"UserError\",\n        \"message\": \"Image build failed. For more details, check log file azureml-logs/20_image_build_log.txt.\",\n        \"messageFormat\": \"Image build failed. For more details, check log file {ArtifactPath}.\",\n        \"messageParameters\": {\n            \"ArtifactPath\": \"azureml-logs/20_image_build_log.txt\"\n        },\n        \"details\": [],\n        \"innerError\": {\n            \"code\": \"BadArgument\",\n            \"innerError\": {\n                \"code\": \"ImageBuildFailure\"\n            }\n        }\n    },\n    \"correlation\": {\n        \"operation\": \"25e2bf00936db1e9ce487cb882430769\",\n        \"request\": \"665e4279a0b8529c\"\n    },\n    \"environment\": \"westeurope\",\n    \"location\": \"westeurope\",\n    \"time\": \"2023-08-14T13:48:39.769365Z\",\n    \"componentName\": \"RunHistory\"\n}\n\tInnerException None\n\tErrorResponse \n{\n    \"error\": {\n        \"message\": \"Activity Failed:\\n{\\n    \\\"error\\\": {\\n        \\\"code\\\": \\\"UserError\\\",\\n        \\\"message\\\": \\\"Image build failed. For more details, check log file azureml-logs/20_image_build_log.txt.\\\",\\n        \\\"messageFormat\\\": \\\"Image build failed. For more details, check log file {ArtifactPath}.\\\",\\n        \\\"messageParameters\\\": {\\n            \\\"ArtifactPath\\\": \\\"azureml-logs/20_image_build_log.txt\\\"\\n        },\\n        \\\"details\\\": [],\\n        \\\"innerError\\\": {\\n            \\\"code\\\": \\\"BadArgument\\\",\\n            \\\"innerError\\\": {\\n                \\\"code\\\": \\\"ImageBuildFailure\\\"\\n            }\\n        }\\n    },\\n    \\\"correlation\\\": {\\n        \\\"operation\\\": \\\"25e2bf00936db1e9ce487cb882430769\\\",\\n        \\\"request\\\": \\\"665e4279a0b8529c\\\"\\n    },\\n    \\\"environment\\\": \\\"westeurope\\\",\\n    \\\"location\\\": \\\"westeurope\\\",\\n    \\\"time\\\": \\\"2023-08-14T13:48:39.769365Z\\\",\\n    \\\"componentName\\\": \\\"RunHistory\\\"\\n}\"\n    }\n}"
          ]
        }
      ],
      "execution_count": 7,
      "metadata": {
        "jupyter": {
          "source_hidden": false,
          "outputs_hidden": false
        },
        "nteract": {
          "transient": {
            "deleting": false
          }
        },
        "gather": {
          "logged": 1692020973865
        }
      }
    },
    {
      "cell_type": "code",
      "source": [
        "!conda env list\n",
        "!conda activate --stack azureml_py38_PT_TF\n",
        "\n",
        "# !pip install torchtext"
      ],
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": "# conda environments:\r\n#\r\nbase                     /anaconda\r\nazureml_py310_sdkv2      /anaconda/envs/azureml_py310_sdkv2\r\nazureml_py38             /anaconda/envs/azureml_py38\r\nazureml_py38_PT_TF       /anaconda/envs/azureml_py38_PT_TF\r\nbehrt_cpu                /anaconda/envs/behrt_cpu\r\njupyter_env              /anaconda/envs/jupyter_env\r\n\r\n"
        }
      ],
      "execution_count": 11,
      "metadata": {
        "gather": {
          "logged": 1691833353869
        },
        "jupyter": {
          "outputs_hidden": false,
          "source_hidden": false
        },
        "nteract": {
          "transient": {
            "deleting": false
          }
        }
      }
    }
  ],
  "metadata": {
    "kernel_info": {
      "name": "python38-azureml-pt-tf"
    },
    "kernelspec": {
      "name": "python38-azureml-pt-tf",
      "language": "python",
      "display_name": "Python 3.8 - Pytorch and Tensorflow"
    },
    "language_info": {
      "name": "python",
      "version": "3.8.5",
      "mimetype": "text/x-python",
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "pygments_lexer": "ipython3",
      "nbconvert_exporter": "python",
      "file_extension": ".py"
    },
    "microsoft": {
      "host": {
        "AzureML": {
          "notebookHasBeenCompleted": true
        }
      },
      "ms_spell_check": {
        "ms_spell_check_language": "en"
      }
    },
    "nteract": {
      "version": "nteract-front-end@1.0.0"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 2
}